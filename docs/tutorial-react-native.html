<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Tutorial – React Native · Jest</title><meta name="viewport" content="width=device-width"><meta property="og:title" content="Tutorial – React Native · Jest"><meta property="og:type" content="website"><meta property="og:url" content="https://facebook.github.io/jest/index.html"><meta property="og:image" content="https://facebook.github.io/jest/img/opengraph.png"><meta property="og:description" content="At Facebook, we use Jest to test [React Native](http://facebook.github.io/react-native/)"><link rel="shortcut icon" href="/jest/img/favicon.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"><link rel="stylesheet" href="/jest/css/jest.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.020/css/hack.min.css"><script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/jest/"><img src="/jest/img/jest-outline.svg"><h2>Jest</h2></a><div class="navigationWrapper navigationSlider"><div class="navSlideout"><i class="menuExpand"><span></span><span></span><span></span></i></div><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/jest/docs/tutorial.html#content" class="active">Docs</a></li><li><a href="/jest/support.html#content" class="">Support</a></li><li><a href="/jest/blog/#content" class="">Blog</a></li><li><a href="https://github.com/facebook/jest" class="">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input id="search_input_react" type="text" placeholder="Search"></li></ul></nav><script>
          var triggers = document.getElementsByClassName('menuExpand');
          var navs = document.getElementsByClassName('navSlideout');
          for (var i=0; i < triggers.length; i++) {
            triggers[i].onclick = function() {
              for (var j=0; j < navs.length; j++) {
                navs[j].classList.toggle('navSlideoutActive');
                navs[j].nextSibling.classList.toggle('slidingNavActive');
              }
            };
          }
        </script></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><a href="/jest/docs/">Docs</a><i>›</i><span>Quick Start</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Quick Start</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/getting-started.html#content">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/tutorial.html#content">Tutorial</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/tutorial-react.html#content">Tutorial – React</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/jest/docs/tutorial-react-native.html#content">Tutorial – React Native</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/tutorial-async.html#content">Tutorial – Async</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/tutorial-webpack.html#content">Tutorial – Webpack</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/tutorial-jquery.html#content">Tutorial – jQuery</a></li></ul></div><div class="navGroup navGroupActive"><h3>Core Concepts</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/common-js-testing.html#content">Module Testing</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/automatic-mocking.html#content">Automatic Mocking</a></li></ul></div><div class="navGroup navGroupActive"><h3>Reference</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/api.html#content">API Reference</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/troubleshooting.html#content">Troubleshooting</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/mock-functions.html#content">Mock functions</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/manual-mocks.html#content">Manual mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/timer-mocks.html#content">Timer mocks</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer documentContainer postContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link" href="https://github.com/facebook/jest/edit/master/docs/TutorialReactNative.md" target="_blank">Edit on GitHub</a><h1>Tutorial – React Native</h1></header><article><div><p>At Facebook, we use Jest to test <a href="http://facebook.github.io/react-native/" target="_blank">React Native</a>
applications.</p><p><em>Note: react-native support is experimental. Please create <a href="https://github.com/facebook/jest/issues" target="_blank">issues</a> with an open source repository attached when you run into problems or send pull requests to help improve the integration.</em></p><h2><a class="anchor" name="setup"></a>Setup <a class="hash-link" href="#setup">#</a></h2><p>We&#x27;ll need to use the <code>jest-react-native</code> preset and we are going to use the <code>babel-jest</code> package as a preprocessor
for Jest. Also see <a href="/jest/docs/getting-started.html#babel-integration" target="">babel integration</a>.</p><p>Run the following command to install the necessary dependencies:</p><pre class="prism language-javascript">
npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev jest babel<span class="token operator">-</span>jest jest<span class="token operator">-</span>react<span class="token operator">-</span>native babel<span class="token operator">-</span>preset<span class="token operator">-</span>react<span class="token operator">-</span>native react<span class="token operator">-</span>test<span class="token operator">-</span>renderer</pre><p>Add the following configuration to your package.json file:</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// package.json</span>
  <span class="token string">&quot;scripts&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;test&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;jest&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;jest&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;preset&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;jest-react-native&quot;</span>
  <span class="token punctuation">}</span></pre><p>And create a <code>.babelrc</code> file with the following contents, if you haven&#x27;t already:</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// .babelrc</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;presets&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;react-native&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span></pre><p><strong>And you&#x27;re good to go!</strong></p><h2><a class="anchor" name="snapshot-test"></a>Snapshot Test <a class="hash-link" href="#snapshot-test">#</a></h2><p>Snapshot testing was introduced in Jest 14.0. More information on how it works and why we built it can be found on the <a href="/jest/blog/2016/07/27/jest-14.html" target="">release blog post</a>.</p><p>Let&#x27;s build a small intro component with a few views and text components and some styles.</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// Intro.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  StyleSheet<span class="token punctuation">,</span>
  Text<span class="token punctuation">,</span>
  View
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;react-native&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  container<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    flex<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    justifyContent<span class="token punctuation">:</span> <span class="token string">&#x27;center&#x27;</span><span class="token punctuation">,</span>
    alignItems<span class="token punctuation">:</span> <span class="token string">&#x27;center&#x27;</span><span class="token punctuation">,</span>
    backgroundColor<span class="token punctuation">:</span> <span class="token string">&#x27;#F5FCFF&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  welcome<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    fontSize<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    textAlign<span class="token punctuation">:</span> <span class="token string">&#x27;center&#x27;</span><span class="token punctuation">,</span>
    margin<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  instructions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    textAlign<span class="token punctuation">:</span> <span class="token string">&#x27;center&#x27;</span><span class="token punctuation">,</span>
    color<span class="token punctuation">:</span> <span class="token string">&#x27;#333333&#x27;</span><span class="token punctuation">,</span>
    marginBottom<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Intro</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>View style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>container<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Text style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>welcome<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          Welcome to React Native<span class="token operator">!</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Text style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>instructions<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          This is a React Native snapshot test<span class="token punctuation">.</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>View<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><p>Now let&#x27;s use React&#x27;s test renderer and Jest&#x27;s snapshot feature to interact with the component and capture the rendered output and create a snapshot file:</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// __tests__/Intro-test.js</span>
<span class="token keyword">import</span> <span class="token string">&#x27;react-native&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Intro <span class="token keyword">from</span> <span class="token string">&#x27;../Intro&#x27;</span><span class="token punctuation">;</span>

<span spellcheck="true" class="token comment">// Note: test renderer must be required after react-native.</span>
<span class="token keyword">import</span> renderer <span class="token keyword">from</span> <span class="token string">&#x27;react-test-renderer&#x27;</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;Intro&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;renders correctly&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> tree <span class="token operator">=</span> renderer<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Intro <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>When you run <code>npm test</code> or <code>jest</code>, this will produce an output file like this:</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// __tests__/__snapshots__/Intro-test.js.snap</span>
exports<span class="token punctuation">[</span><span class="token template-string"><span class="token string">`Intro renders correctly 1`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> `
<span class="token operator">&lt;</span>View
  style<span class="token operator">=</span><span class="token punctuation">{</span>
    Object <span class="token punctuation">{</span>
      <span class="token string">&quot;alignItems&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;backgroundColor&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;#F5FCFF&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;flex&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string">&quot;justifyContent&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;center&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Text
    style<span class="token operator">=</span><span class="token punctuation">{</span>
      Object <span class="token punctuation">{</span>
        <span class="token string">&quot;fontSize&quot;</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
        <span class="token string">&quot;margin&quot;</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token string">&quot;textAlign&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;center&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token operator">&gt;</span>
    Welcome to React Native<span class="token operator">!</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Text
    style<span class="token operator">=</span><span class="token punctuation">{</span>
      Object <span class="token punctuation">{</span>
        <span class="token string">&quot;color&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;#333333&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;marginBottom&quot;</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token string">&quot;textAlign&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;center&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token operator">&gt;</span>
    This is a React Native snapshot test<span class="token punctuation">.</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>View<span class="token operator">&gt;</span>
`<span class="token punctuation">;</span></pre><p>The next time you run the tests, the rendered output will be compared to the previously created snapshot. The snapshot should be committed along code changes. When a snapshot test fails, you need to inspect whether it is an intended or unintended change. If the change is expected you can invoke Jest with <code>jest -u</code> to overwrite the existing snapshot.</p><p>The code for this example is available at
<a href="https://github.com/facebook/jest/tree/master/examples/react-native" target="_blank">examples/react-native</a>.</p><h2><a class="anchor" name="preset-configuration"></a>Preset configuration <a class="hash-link" href="#preset-configuration">#</a></h2><p>The preset sets up the environment and is very opinionated and based on what we found to be useful at Facebook. All of the configuration options can be overwritten just as they can be customized when no preset is used.</p><h3><a class="anchor" name="disabled-automocking-and-node-environment"></a>Disabled automocking and node environment <a class="hash-link" href="#disabled-automocking-and-node-environment">#</a></h3><p>Because most snapshot tests will be integration tests that require React, React-Native and your components to be unmocked, automocking is disabled by default. Instead of <code>jsdom</code>, a simple <code>node</code> environment is loaded that is similar to a react-native environment. Because the node environment doesn&#x27;t load any DOM or browser APIs it improves Jest&#x27;s startup greatly.</p><h3><a class="anchor" name="preprocessorignorepatterns-customization"></a>preprocessorIgnorePatterns customization <a class="hash-link" href="#preprocessorignorepatterns-customization">#</a></h3><p>The <a href="api.html#preprocessorignorepatterns-array-string" target="_blank"><code>preprocessorIgnorePatterns</code></a> option can be used to whitelist or blacklist files from being transformed with babel. Many react-native npm modules unfortunately don&#x27;t pre-compile their source code before publishing.</p><p>By default the jest-react-native preset only processes the project&#x27;s own source files and react-native. If you have npm dependencies that have to be transformed you can customize this configuration option by whitelisting modules other than react-native:</p><pre class="prism language-javascript">
<span class="token string">&quot;preprocessorIgnorePatterns&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;node_modules/(?!react-native|my-project|react-native-button)&quot;</span>
<span class="token punctuation">]</span></pre><h3><a class="anchor" name="setupfiles"></a>setupFiles <a class="hash-link" href="#setupfiles">#</a></h3><p>If you&#x27;d like to provide additional configuration for every test file, the <a href="api.html#setupfiles-array" target="_blank"><code>setupFiles</code></a> configuration option can be used to specify setup scripts.</p><h3><a class="anchor" name="modulenamemapper"></a>moduleNameMapper <a class="hash-link" href="#modulenamemapper">#</a></h3><p>The <a href="api.html#modulenamemapper-object-string-string" target="_blank"><code>moduleNameMapper</code></a> can be used to map a module path to a different module. By default the preset maps all images to an image stub module but if a module cannot be found this configuration option can help:</p><pre class="prism language-javascript">
<span class="token string">&quot;moduleNameMapper&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;my-module.js&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/path/to/my-module.js&quot;</span>
<span class="token punctuation">}</span></pre><h2><a class="anchor" name="tips"></a>Tips <a class="hash-link" href="#tips">#</a></h2><h3><a class="anchor" name="mock-native-modules-using-jest-mock"></a>Mock native modules using jest.mock <a class="hash-link" href="#mock-native-modules-using-jest-mock">#</a></h3><p>The jest-react-native preset comes with a few default mocks that are applied on a react-native repository. However some react-native components rely on native code to be rendered. In such cases, Jest&#x27;s manual mocking system can help to mock out the underlying implementation.</p><p>For example, if you&#x27;d like to create a snapshot that involves the <code>ActivityIndicator</code> module, you need to create a manual mock:</p><pre class="prism language-javascript">
jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&#x27;ActivityIndicator&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#x27;ActivityIndicator&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>This will render the component as <code>&lt;ActivityIndicator {...props} /&gt;</code> with all of its props in the snapshot output.</p><p>Sometimes you need to provide a more complex manual mock. For example if you&#x27;d like to forward the props of a native component to a mock, you can return a different React component from a mock:</p><pre class="prism language-javascript">
jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&#x27;Text&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> realText <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">requireActual</span><span class="token punctuation">(</span><span class="token string">&#x27;Text&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> React <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;React&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">class</span> <span class="token class-name">Text</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#x27;Text&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  Text<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> realText<span class="token punctuation">.</span>propTypes<span class="token punctuation">;</span>
  <span class="token keyword">return</span> Text<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="require-react-native-before-the-test-renderer"></a>require react-native before the test renderer <a class="hash-link" href="#require-react-native-before-the-test-renderer">#</a></h3><p>Currently it is required to require react-native before loading the test renderer:</p><pre class="prism language-javascript">
<span class="token keyword">import</span> <span class="token string">&#x27;react-native&#x27;</span><span class="token punctuation">;</span>
<span spellcheck="true" class="token comment">// Require after react-native</span>
<span class="token keyword">import</span> renderer <span class="token keyword">from</span> <span class="token string">&#x27;react-test-renderer&#x27;</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="providesmodule"></a><code>@providesModule</code> <a class="hash-link" href="#providesmodule">#</a></h3><p>If you&#x27;d like to use Facebook&#x27;s <code>@providesModule</code> module system through an npm package, the default haste config option must be overwritten and npm modules must be added to <code>providesModuleNodeModules</code>:</p><pre class="prism language-javascript">
<span class="token string">&quot;haste&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;defaultPlatform&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ios&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;platforms&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;android&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ios&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;providesModuleNodeModules&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;react-native&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;my-awesome-module&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;my-text-component&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></pre><p>If you&#x27;d like to test a different default platform or if you are building for other platforms, the <code>defaultPlatform</code> and <code>platforms</code> configuration option can be updated.</p></div></article></div><div class="docs-prevnext"><a class="docs-next" href="tutorial-async.html#content">Next →</a></div></div></div></div><div class="footerContainer"><div class="wrapper footerWrapper"><div class="footerBlocks"><div class="footerSection fbOpenSourceFooter"><svg class="facebookOSSLogoSvg" viewBox="0 0 1133.9 1133.9" x="0px" y="0px"><g><path class="logoRing outerRing" d="M 498.3 3.7 c 153.6 88.9 307.3 177.7 461.1 266.2 c 7.6 4.4 10.3 9.1 10.3 17.8 c -0.3 179.1 -0.2 358.3 0 537.4 c 0 8.1 -2.4 12.8 -9.7 17.1 c -154.5 88.9 -308.8 178.1 -462.9 267.5 c -9 5.2 -15.5 5.3 -24.6 0.1 c -153.9 -89.2 -307.9 -178 -462.1 -266.8 C 3 838.8 0 833.9 0 825.1 c 0.3 -179.1 0.2 -358.3 0 -537.4 c 0 -8.6 2.6 -13.6 10.2 -18 C 164.4 180.9 318.4 92 472.4 3 C 477 -1.5 494.3 -0.7 498.3 3.7 Z M 48.8 555.3 c 0 79.9 0.2 159.9 -0.2 239.8 c -0.1 10 3 15.6 11.7 20.6 c 137.2 78.8 274.2 157.8 411 237.3 c 9.9 5.7 17 5.7 26.8 0.1 c 137.5 -79.8 275.2 -159.2 412.9 -238.5 c 7.4 -4.3 10.5 -8.9 10.5 -17.8 c -0.3 -160.2 -0.3 -320.5 0 -480.7 c 0 -8.8 -2.8 -13.6 -10.3 -18 C 772.1 218 633.1 137.8 494.2 57.4 c -6.5 -3.8 -11.5 -4.5 -18.5 -0.5 C 336.8 137.4 197.9 217.7 58.8 297.7 c -7.7 4.4 -10.2 9.2 -10.2 17.9 C 48.9 395.5 48.8 475.4 48.8 555.3 Z"></path><path class="logoRing middleRing" d="M 184.4 555.9 c 0 -33.3 -1 -66.7 0.3 -100 c 1.9 -48 24.1 -86 64.7 -110.9 c 54.8 -33.6 110.7 -65.5 167 -96.6 c 45.7 -25.2 92.9 -24.7 138.6 1 c 54.4 30.6 108.7 61.5 162.2 93.7 c 44 26.5 67.3 66.8 68 118.4 c 0.9 63.2 0.9 126.5 0 189.7 c -0.7 50.6 -23.4 90.7 -66.6 116.9 c -55 33.4 -110.8 65.4 -167.1 96.5 c -43.4 24 -89 24.2 -132.3 0.5 c -57.5 -31.3 -114.2 -64 -170 -98.3 c -41 -25.1 -62.9 -63.7 -64.5 -112.2 C 183.5 621.9 184.3 588.9 184.4 555.9 Z M 232.9 556.3 c 0 29.5 0.5 59.1 -0.1 88.6 c -0.8 39.2 16.9 67.1 50.2 86.2 c 51.2 29.4 102.2 59.2 153.4 88.4 c 31.4 17.9 63.6 18.3 95 0.6 c 53.7 -30.3 107.1 -61.2 160.3 -92.5 c 29.7 -17.5 45 -44.5 45.3 -78.8 c 0.6 -61.7 0.5 -123.5 0 -185.2 c -0.3 -34.4 -15.3 -61.5 -44.9 -79 C 637.7 352.6 583 320.8 527.9 290 c -27.5 -15.4 -57.2 -16.1 -84.7 -0.7 c -56.9 31.6 -113.4 64 -169.1 97.6 c -26.4 15.9 -40.7 41.3 -41.1 72.9 C 232.6 491.9 232.9 524.1 232.9 556.3 Z"></path><path class="logoRing innerRing" d="M 484.9 424.4 c 69.8 -2.8 133.2 57.8 132.6 132 C 617 630 558.5 688.7 484.9 689.1 c -75.1 0.4 -132.6 -63.6 -132.7 -132.7 C 352.1 485 413.4 421.5 484.9 424.4 Z M 401.3 556.7 c -3.4 37.2 30.5 83.6 83 84.1 c 46.6 0.4 84.8 -37.6 84.9 -84 c 0.1 -46.6 -37.2 -84.4 -84.2 -84.6 C 432.2 472.1 397.9 518.3 401.3 556.7 Z"></path></g></svg><h2>Facebook Open Source</h2></div><div class="footerSection"><a class="footerLink" href="https://code.facebook.com/projects/" target="_blank">Open Source Projects</a><a class="footerLink" href="https://github.com/facebook/" target="_blank">GitHub</a><a class="footerLink" href="https://twitter.com/fbOpenSource" target="_blank">Twitter</a></div><div class="footerSection rightAlign"><a class="footerLink" href="https://github.com/facebook/jest" target="_blank">Contribute on GitHub</a></div></div></div></div></div><div id="fb-root"></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-387204-10', 'facebook.github.io');
            ga('send', 'pageview');

            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)
            ){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");

            docsearch({
              apiKey: '833906d7486e4059359fa58823c4ef56',
              indexName: 'jest',
              inputSelector: '#search_input_react'
            });
          </script></body></html>