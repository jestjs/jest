<html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/><title>Mock Functions · Jest</title><meta name="viewport" content="width=device-width"/><meta property="og:title" content="Mock Functions · Jest"/><meta property="og:type" content="website"/><meta property="og:url" content="https://facebook.github.io/jest/index.html"/><meta property="og:description" content="Функції-імітації також відомі як &quot;шпигуни&quot;, оскільки вони дозволяють вам слідкувати за поведінкою функції, непрямо викликаної якимось іншим кодом, а не просто тестувати результат її виконання. Ви можете створити функцію-імітацію з допомогою `jest.fn()`. Якщо не буде вказано реалізації, то фуркція-імітація поверне `undefined` після виконання."/><meta name="robots" content="noindex"/><meta property="og:image" content="/jest/img/opengraph.png"/><link rel="shortcut icon" href="/jest/img/favicon/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="/jest/css/main.css"/><link rel="alternate" type="application/atom+xml" href="https://facebook.github.io/blog/atom.xml" title="Jest Blog ATOM Feed"/> <link rel="alternate" type="application/rss+xml" href="https://facebook.github.io/blog/feed.xml" title="Jest Blog RSS Feed"/><script async="" defer="" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/jest/js/webplayer.js"></script><script type="text/javascript" src="https://snack.expo.io/embed.js"></script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/jest/"><img class="logo" src="/jest/img/jest.svg"/><h2 class="headerTitle">Jest</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/jest/docs/uk/getting-started.html" target="_self">Документація</a></li><li><a href="/jest/docs/uk/api.html" target="_self">API</a></li><li><a href="/jest/uk/help.html" target="_self">Допомога</a></li><li><a href="/jest/blog" target="_self">Блог</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/jest/img/language.svg"/>Українська</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/jest/en">English</a></li><li><a href="/jest/ja">日本語</a></li><li><a href="/jest/es-ES">Español</a></li><li><a href="/jest/pt-BR">Português (Brasil)</a></li><li><a href="/jest/ro">Română</a></li><li><a href="/jest/ru">Русский</a></li><li><a href="/jest/zh-Hans">简体中文</a></li><li><a href="https://crowdin.com/project/jest" target="_blank">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li><li><a href="https://github.com/facebook/jest" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Introduction</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Introduction</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/uk/getting-started.html#content">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/using-matchers.html#content">Using Matchers</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/asynchronous.html#content">Testing Asynchronous Code</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/setup-teardown.html#content">Setup and Teardown</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/jest/docs/uk/mock-function-api.html#content">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/more-resources.html#content">More Resources</a></li></ul></div><div class="navGroup navGroupActive"><h3>API Reference</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/uk/api.html#content">Globals</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/expect.html#content">Expect</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/mock-functions.html#content">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/jest-object.html#content">The Jest Object</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/configuration.html#content">Configuring Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/cli.html#content">Jest CLI Options</a></li></ul></div><div class="navGroup navGroupActive"><h3>Guides</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/uk/snapshot-testing.html#content">Тестування з допомогою знімків</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/tutorial-react.html#content">Testing React Apps</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/tutorial-react-native.html#content">Testing React Native Apps</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/tutorial-async.html#content">An Async Example</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/timer-mocks.html#content">Timer Mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/manual-mocks.html#content">Manual Mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/webpack.html#content">Using with webpack</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/migration-guide.html#content">Migrating to Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/testing-frameworks.html#content">Testing web frameworks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/troubleshooting.html#content">Troubleshooting</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/jest/uk" target="_blank">Translate this Doc</a><h1>Mock Functions</h1></header><article><div><p>Функції-імітації також відомі як &quot;шпигуни&quot;, оскільки вони дозволяють вам слідкувати за поведінкою функції, непрямо викликаної якимось іншим кодом, а не просто тестувати результат її виконання. Ви можете створити функцію-імітацію з допомогою <code>jest.fn()</code>. Якщо не буде вказано реалізації, то фуркція-імітація поверне <code>undefined</code> після виконання.</p><h2><a class="anchor" name=""></a>Методи <a class="hash-link" href="#">#</a></h2><div><autogenerated_table_of_contents>

</div><hr/><h2><a class="anchor" name=""></a>Довідка <a class="hash-link" href="#">#</a></h2><h3><a class="anchor" name="mockfngetmockname"></a><code>mockFn.getMockName()</code> <a class="hash-link" href="#mockfngetmockname">#</a></h3><h5><a class="anchor" name="available-in-jest-2130"></a>available in Jest <strong>21.3.0+</strong> <a class="hash-link" href="#available-in-jest-2130">#</a></h5><p>Returns the mock name string set by calling <code>mockFn.mockName(value)</code>.</p><h3><a class="anchor" name="mockfnmockcalls"></a><code>mockFn.mock.calls</code> <a class="hash-link" href="#mockfnmockcalls">#</a></h3><p>An array that represents all calls that have been made into this mock function. Each call is represented by an array of arguments that were passed during the call.</p><p>For example: A mock function <code>f</code> that has been called twice, with the arguments <code>f(&#x27;arg1&#x27;, &#x27;arg2&#x27;)</code>, and then with the arguments <code>f(&#x27;arg3&#x27;, &#x27;arg4&#x27;)</code> would have a <code>mock.calls</code> array that looks like this:</p><pre class="prism language-js"><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">&#x27;arg1&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;arg2&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&#x27;arg3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;arg4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="mockfnmockinstances"></a><code>mockFn.mock.instances</code> <a class="hash-link" href="#mockfnmockinstances">#</a></h3><p>An array that contains all the object instances that have been instantiated from this mock function using <code>new</code>.</p><p>For example: A mock function that has been instantiated twice would have the following <code>mock.instances</code> array:</p><pre class="prism language-js"><span class="token keyword">const</span> mockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mockFn<span class="token punctuation">.</span>mock<span class="token punctuation">.</span>instances<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> a<span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span>
mockFn<span class="token punctuation">.</span>mock<span class="token punctuation">.</span>instances<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> b<span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span></pre><h3><a class="anchor" name="mockfnmockclear"></a><code>mockFn.mockClear()</code> <a class="hash-link" href="#mockfnmockclear">#</a></h3><p>Resets all information stored in the <a href="#mockfn-mock-calls" target=""><code>mockFn.mock.calls</code></a> and <a href="#mockfn-mock-instances" target=""><code>mockFn.mock.instances</code></a> arrays.</p><p>Often this is useful when you want to clean up a mock&#x27;s usage data between two assertions.</p><p>Beware that <code>mockClear</code> will replace <code>mockFn.mock</code>, not just <a href="#mockfn-mock-calls" target=""><code>mockFn.mock.calls</code></a> and <a href="#mockfn-mock-instances" target=""><code>mockFn.mock.instances</code></a>. You should therefore avoid assigning <code>mockFn.mock</code> to other variables, temporary or not, to make sure you don&#x27;t access stale data.</p><p>The <a href="configuration.html#clearmocks-boolean" target="_blank"><code>clearMocks</code></a> configuration option is available to clear mocks automatically between tests.</p><h3><a class="anchor" name="mockfnmockreset"></a><code>mockFn.mockReset()</code> <a class="hash-link" href="#mockfnmockreset">#</a></h3><p>Resets all information stored in the mock, including any initial implementation and mock name given.</p><p>This is useful when you want to completely restore a mock back to its initial state.</p><p>Beware that <code>mockReset</code> will replace <code>mockFn.mock</code>, not just <a href="#mockfn-mock-calls" target=""><code>mockFn.mock.calls</code></a> and <a href="#mockfn-mock-instances" target=""><code>mockFn.mock.instances</code></a>. You should therefore avoid assigning <code>mockFn.mock</code> to other variables, temporary or not, to make sure you don&#x27;t access stale data.</p><h3><a class="anchor" name="mockfnmockrestore"></a><code>mockFn.mockRestore()</code> <a class="hash-link" href="#mockfnmockrestore">#</a></h3><p>Removes the mock and restores the initial implementation.</p><p>This is useful when you want to mock functions in certain test cases and restore the original implementation in others.</p><p>Beware that <code>mockFn.mockRestore</code> only works when mock was created with <code>jest.spyOn</code>. Thus you have to take care of restoration yourself when manually assigning <code>jest.fn()</code>.</p><h3><a class="anchor" name="mockfnmockimplementationfn"></a><code>mockFn.mockImplementation(fn)</code> <a class="hash-link" href="#mockfnmockimplementationfn">#</a></h3><p>Accepts a function that should be used as the implementation of the mock. The mock itself will still record all calls that go into and instances that come from itself – the only difference is that the implementation will also be executed when the mock is called.</p><p><em>Note: <code>jest.fn(implementation)</code> is a shorthand for <code>jest.fn().mockImplementation(implementation)</code>.</em></p><p>Наприклад:</p><pre class="prism language-js"><span class="token keyword">const</span> mockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mockImplementation</span><span class="token punctuation">(</span>scalar <span class="token operator">=&gt;</span> <span class="token number">42</span> <span class="token operator">+</span> scalar<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span spellcheck="true" class="token comment">// або: jest.fn(scalar =&gt; 42 + scalar);</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">mockFn</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token function">mockFn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

a <span class="token operator">===</span> <span class="token number">42</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span>
b <span class="token operator">===</span> <span class="token number">43</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span>

mockFn<span class="token punctuation">.</span>mock<span class="token punctuation">.</span>calls<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span>
mockFn<span class="token punctuation">.</span>mock<span class="token punctuation">.</span>calls<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span></pre><p><code>mockImplementation</code> can also be used to mock class constructors:</p><pre class="prism language-javascript"><span spellcheck="true" class="token comment">// SomeClass.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">SomeClass</span> <span class="token punctuation">{</span>
  <span class="token function">m</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span spellcheck="true" class="token comment">// OtherModule.test.js</span>
jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&#x27;./SomeClass&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span spellcheck="true" class="token comment">// this happens automatically with automocking</span>
<span class="token keyword">const</span> SomeClass <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./SomeClass&#x27;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> mMock <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
SomeClass<span class="token punctuation">.</span><span class="token function">mockImplementation</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    m<span class="token punctuation">:</span> mMock
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> some <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SomeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
some<span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token string">&#x27;a&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;b&#x27;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;Calls to m: &#x27;</span><span class="token punctuation">,</span> mMock<span class="token punctuation">.</span>mock<span class="token punctuation">.</span>calls<span class="token punctuation">)</span></pre><h3><a class="anchor" name="mockfnmockimplementationoncefn"></a><code>mockFn.mockImplementationOnce(fn)</code> <a class="hash-link" href="#mockfnmockimplementationoncefn">#</a></h3><p>Accepts a function that will be used as an implementation of the mock for one call to the mocked function. Can be chained so that multiple function calls produce different results.</p><pre class="prism language-javascript"><span class="token keyword">var</span> myMockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">mockImplementationOnce</span><span class="token punctuation">(</span>cb <span class="token operator">=&gt;</span> <span class="token function">cb</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">mockImplementationOnce</span><span class="token punctuation">(</span>cb <span class="token operator">=&gt;</span> <span class="token function">cb</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token boolean">true</span>

<span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token boolean">false</span></pre><p>When the mocked function runs out of implementations defined with mockImplementationOnce, it will execute the default implementation set with <code>jest.fn(() =&gt; defaultValue)</code> or <code>.mockImplementation(() =&gt; defaultValue)</code> if they were called:</p><pre class="prism language-javascript"><span class="token keyword">var</span> myMockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&#x27;default&#x27;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">mockImplementationOnce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&#x27;first call&#x27;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">mockImplementationOnce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&#x27;second call&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token string">&#x27;first call&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;second call&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;default&#x27;</span></pre><h3><a class="anchor" name="mockfnmocknamevalue"></a><code>mockFn.mockName(value)</code> <a class="hash-link" href="#mockfnmocknamevalue">#</a></h3><h5><a class="anchor" name="available-in-jest-2130"></a>available in Jest <strong>21.3.0+</strong> <a class="hash-link" href="#available-in-jest-2130">#</a></h5><p>Accepts a string to use in test result output in place of &quot;jest.fn()&quot; to indicate which mock function is being referenced.</p><p>Наприклад:</p><pre class="prism language-js"><span class="token keyword">const</span> mockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mockName</span><span class="token punctuation">(</span><span class="token string">&#x27;mockedFunction&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span spellcheck="true" class="token comment">// mockFn();</span>
<span class="token function">expect</span><span class="token punctuation">(</span>mockFn<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Will result in this error:</p><pre class="prism language-javascript">    <span class="token function">expect</span><span class="token punctuation">(</span>mockedFunction<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    Expected mock <span class="token keyword">function</span> to have been called<span class="token punctuation">.</span></pre><h3><a class="anchor" name="mockfnmockreturnthis"></a><code>mockFn.mockReturnThis()</code> <a class="hash-link" href="#mockfnmockreturnthis">#</a></h3><p>Просто цукрова функція для:</p><pre class="prism language-js">jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="mockfnmockreturnvaluevalue"></a><code>mockFn.mockReturnValue(value)</code> <a class="hash-link" href="#mockfnmockreturnvaluevalue">#</a></h3><p>Accepts a value that will be returned whenever the mock function is called.</p><pre class="prism language-js"><span class="token keyword">const</span> mock <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mock<span class="token punctuation">.</span><span class="token function">mockReturnValue</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// 42</span>
mock<span class="token punctuation">.</span><span class="token function">mockReturnValue</span><span class="token punctuation">(</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// 43</span></pre><h3><a class="anchor" name="mockfnmockreturnvalueoncevalue"></a><code>mockFn.mockReturnValueOnce(value)</code> <a class="hash-link" href="#mockfnmockreturnvalueoncevalue">#</a></h3><p>Accepts a value that will be returned for one call to the mock function. Can be chained so that successive calls to the mock function return different values. When there are no more <code>mockReturnValueOnce</code> values to use, calls will return a value specified by <code>mockReturnValue</code>.</p><pre class="prism language-javascript"><span class="token keyword">const</span> myMockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">mockReturnValue</span><span class="token punctuation">(</span><span class="token string">&#x27;default&#x27;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">mockReturnValueOnce</span><span class="token punctuation">(</span><span class="token string">&#x27;first call&#x27;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">mockReturnValueOnce</span><span class="token punctuation">(</span><span class="token string">&#x27;second call&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token string">&#x27;first call&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;second call&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;default&#x27;</span></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="setup-teardown.html#content">← Назад</a><a class="docs-next button" href="more-resources.html#content">Далі →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/jest/" class="nav-home"><img src="/jest/img/jest-outline.svg" alt="Jest" width="66" height="58"/></a><div><h5>Docs</h5><a href="/jest/docs/uk/getting-started.html">Getting Started</a><a href="/jest/docs/uk/snapshot-testing.html">Guides</a><a href="/jest/docs/uk/api.html">API Reference</a></div><div><h5>Community</h5><a href="/jest/uk/users.html">User Showcase</a><a href="https://stackoverflow.com/questions/tagged/jestjs" target="_blank">Stack Overflow</a><a href="https://discordapp.com/channels/102860784329052160/103622435865104384">Jest Chat</a><a href="https://twitter.com/fbjest" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/jest/blog">Blog</a><a href="https://github.com/facebook/jest">GitHub</a><a class="github-button" href="https://github.com/facebook/jest" data-icon="octicon-star" data-count-href="/facebook/jest/stargazers" data-count-api="/repos/facebook/jest#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/jest/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2017 Facebook Inc.</section></footer></div><script type="text/javascript" src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-44373548-17', 'auto');
              ga('send', 'pageview');
            </script><script>
              var search = docsearch({
                apiKey: '833906d7486e4059359fa58823c4ef56',
                indexName: 'jest',
                inputSelector: '#search_input_react'
              });
            </script></body></html>