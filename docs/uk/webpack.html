<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Використання з Webpack · Jest</title><meta name="viewport" content="width=device-width"><meta property="og:title" content="Використання з Webpack · Jest"><meta property="og:type" content="website"><meta property="og:url" content="https://facebook.github.io/jest/index.html"><meta property="og:image" content="https://facebook.github.io/jest/img/opengraph.png"><meta property="og:description" content="Jest може застосовуватися в проектах, які використовують [ webpack](https://webpack.github.io/) для керування ресурсами, стилями та компіляції коду. Webpack кидає певні унікальні виклики щодо використання інших інструментів, оскільки він інтегрується безпосередньо в ваш додаток, дозволяючи керувати файлами стилів, зображень, шрифтів, разом з розвиненою екосистемою компіляції в JavaScript інших мов та інструментів."><link rel="apple-touch-icon" sizes="180x180" href="/jest/img/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/jest/img/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/jest/img/favicon/favicon-16x16.png"><link rel="manifest" href="/jest/img/favicon/manifest.json"><link rel="mask-icon" href="/jest/img/favicon/safari-pinned-tab.svg"><link rel="shortcut icon" href="/jest/img/favicon/favicon.ico"><meta name="msapplication-config" content="/jest/img/favicon/browserconfig.xml"><meta name="theme-color" content="#99424f"><link rel="alternate" type="application/atom+xml" href="/jest/blog/atom.xml" title="Jest Blog ATOM Feed"><link rel="alternate" type="application/rss+xml" href="/jest/blog/feed.xml" title="Jest Blog RSS Feed"><link rel="shortcut icon" href="/jest/img/favicon.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"><link rel="stylesheet" href="/jest/css/jest.css?v=2"><link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.020/css/hack.min.css"><script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/jest/"><img src="/jest/img/jest-outline.svg"><h2>Jest</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/jest/docs/uk/getting-started.html" class="active">Документація</a></li><li><a href="/jest/docs/uk/api.html" class="">API</a></li><li><a href="/jest/uk/help.html" class="">Допомога</a></li><li><a href="/jest/blog/" class="">Блог</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/jest/img/language.svg">Українська</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/jest/ja">日本語</a></li><li><a href="/jest/en">English</a></li><li><a href="/jest/es-ES">Español</a></li><li><a href="/jest/pt-BR">Português (Brasil)</a></li><li><a href="/jest/ro">Română</a></li><li><a href="/jest/ru">Русский</a></li><li><a href="/jest/zh-Hans">简体中文</a></li><li><a href="https://crowdin.com/project/jest" target="_blank">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input id="search_input_react" type="text" placeholder="Search"></li><li><a href="https://github.com/facebook/jest" class="">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Guides</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Introduction</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/uk/getting-started.html#content">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/using-matchers.html#content">Using Matchers</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/asynchronous.html#content">Testing Asynchronous Code</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/setup-teardown.html#content">Setup and Teardown</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/mock-functions.html#content">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/more-resources.html#content">More Resources</a></li></ul></div><div class="navGroup navGroupActive"><h3>API Reference</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/uk/api.html#content">Globals</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/expect.html#content">Expect</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/mock-function-api.html#content">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/jest-object.html#content">The Jest Object</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/configuration.html#content">Configuring Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/cli.html#content">Jest CLI Options</a></li></ul></div><div class="navGroup navGroupActive"><h3>Guides</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/uk/snapshot-testing.html#content">Тестування з допомогою знімків</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/tutorial-react.html#content">Testing React Apps</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/tutorial-react-native.html#content">Testing React Native Apps</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/tutorial-async.html#content">An Async Example</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/timer-mocks.html#content">Timer Mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/manual-mocks.html#content">Manual Mocks</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/jest/docs/uk/webpack.html#content">Використання з Webpack</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/migration-guide.html#content">Migrating to Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/testing-frameworks.html#content">Тестування інших фреймворків</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/troubleshooting.html#content">Troubleshooting</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/jest/uk" target="_blank">Translate this Doc</a><h1>Використання з Webpack</h1></header><article><div><p>Jest може застосовуватися в проектах, які використовують <a href="https://webpack.github.io/" target="_blank"> webpack</a> для керування ресурсами, стилями та компіляції коду. Webpack кидає певні унікальні виклики щодо використання інших інструментів, оскільки він інтегрується безпосередньо в ваш додаток, дозволяючи керувати файлами стилів, зображень, шрифтів, разом з розвиненою екосистемою компіляції в JavaScript інших мов та інструментів.</p><h2><a class="anchor" name="webpack"></a>Приклад використання з Webpack <a class="hash-link" href="#webpack">#</a></h2><p>Давайте почнемо із поширеного типу конфігурації webpack і створимо на його основі конфігурацію Jest.</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// webpack.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    loaders<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>exclude<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;node_modules&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> loader<span class="token punctuation">:</span> <span class="token string">&#x27;babel&#x27;</span><span class="token punctuation">,</span> test<span class="token punctuation">:</span> <span class="token regex">/\.jsx?$/</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>loader<span class="token punctuation">:</span> <span class="token string">&#x27;style-loader!css-loader&#x27;</span><span class="token punctuation">,</span> test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>loader<span class="token punctuation">:</span> <span class="token string">&#x27;url-loader&#x27;</span><span class="token punctuation">,</span> test<span class="token punctuation">:</span> <span class="token regex">/\.gif$/</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>loader<span class="token punctuation">:</span> <span class="token string">&#x27;file-loader&#x27;</span><span class="token punctuation">,</span> test<span class="token punctuation">:</span> <span class="token regex">/\.(ttf|eot|svg)$/</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      config$<span class="token punctuation">:</span> <span class="token string">&#x27;./configs/app-config.js&#x27;</span><span class="token punctuation">,</span>
      react<span class="token punctuation">:</span> <span class="token string">&#x27;./vendor/react-master&#x27;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    extensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;js&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;jsx&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    modules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">&#x27;node_modules&#x27;</span><span class="token punctuation">,</span> 
      <span class="token string">&#x27;bower_components&#x27;</span><span class="token punctuation">,</span> 
      <span class="token string">&#x27;shared&#x27;</span><span class="token punctuation">,</span>
      <span class="token string">&#x27;/shared/vendor/modules&#x27;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></pre><p>Якщо у вас є JavaScript файли, які трансформуються з допомогою Babel, ви можете <a href="/jest/docs/getting-started.html#using-babel-with-jest" target="">увімкнути підтримку Babel</a> встановивши плагін <code>babel-jest</code>. Трансформації, які не можуть бути виконані з використанням Babel, можна налаштувати в опції конфігурації <a href="/jest/docs/configuration.html#transform-object-string-string" target=""><code>transform</code></a>.</p><h3><a class="anchor" name=""></a>Обробка статичних ресурсів <a class="hash-link" href="#">#</a></h3><p>Тепер давайте налаштуємо Jest для коректної обробки статичних файлів, таких, к стилі та зображення. Зазвичай ці файли непотрібні для тестів, а отже ми можемо просто їх імітувати. Проте, якщо ви використовуєте CSS модулі, краще імітувати проксі об’єкт для пошуку ваших className.</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;jest&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;moduleNameMapper&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/__mocks__/fileMock.js&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;\\.(css|less)$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/__mocks__/styleMock.js&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><p>І вміст мок модулів:</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// __mocks__/styleMock.js</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></pre><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// __mocks__/fileMock.js</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token string">&#x27;test-file-stub&#x27;</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="css"></a>Імітація CSS модулів <a class="hash-link" href="#css">#</a></h3><p>Ви можете використати <a href="https://github.com/keyanzhang/identity-obj-proxy" target="_blank">ES6 Proxy</a> для іімтації <a href="https://github.com/css-modules/css-modules" target="_blank">CSS модулів</a>:</p><pre class="prism language-javascript">
npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev identity<span class="token operator">-</span>obj<span class="token operator">-</span>proxy</pre><p>Тоді запит className з об’єкта стилів буде повернутий як є (наприклад, <code>styles.foobar === &#x27;foobar&#x27;</code>). Це дуже зручно для <a href="/jest/docs/snapshot-testing.html" target="">тестування зі знімками</a> React компонентів.</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// package.json (для CSS Modules)</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;jest&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;moduleNameMapper&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/__mocks__/fileMock.js&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;\\.(css|less)$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;identity-obj-proxy&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><blockquote><p>Зверніть увагу, що Proxy увімкнуті в Node 6 за замовчуванням. Якщо ви ще не використовуєте Node 6 або вище, переконайтеся, що ви викликаєте Jest командою <code>node --harmony_proxies node_modules/.bin/jest</code>.</p></blockquote><p>Якщо <code>moduleNameMapper</code> не задовольняє ваші вимоги, ви можете скористатися параметром конфігурації <a href="/jest/docs/configuration.html#transform-object-string-string" target=""><code>transform</code></a>, щоб вказати як саме ресурси повинні бути перетворені. Наприклад, обробник, який повертає ім’я файлу (так, щоб виклик <code>require(&#x27;logo.jpg&#x27;);</code> повертав <code>&#x27;logo&#x27;</code>), може виглядати так:</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// fileTransformer.js</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;path&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">process</span><span class="token punctuation">(</span>src<span class="token punctuation">,</span> filename<span class="token punctuation">,</span> config<span class="token punctuation">,</span> options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#x27;module.exports = &#x27;</span> <span class="token operator">+</span> JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#x27;;&#x27;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></pre><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// package.json (for custom transformers and CSS Modules)</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;jest&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;moduleNameMapper&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;\\.(css|less)$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;identity-obj-proxy&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;transform&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/fileTransformer.js&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><p>Ми вказали Jest ігнорувати файли, які відповідають розширенню стилів та зображень, і, замість цього, викликати наші мок файли. Ви можете налаштувати решулярні вирази, щоб обробляти типи файлів, які обробляє ваша конфігурація webpack.</p><p><em>Примітка: якщо ви використовуєте babel-jest з додатковими препроцесорами коду, вам потрібно явно вказати babel-jest, як обробник вашого JavaScript коду, вказавши для трансформації файлів з розширеннями <code>.js</code> модуль babel-jest.</em></p><pre class="prism language-javascript">
<span class="token string">&quot;transform&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;^.+\\.js$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;babel-jest&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;^.+\\.css$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;custom-transformer&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span></pre><h3><a class="anchor" name="jest"></a>Налаштування Jest для пошуку файлів <a class="hash-link" href="#jest">#</a></h3><p>Тепер, коли Jest знає як обробляти наші файли, нам потрібно пояснити йому, як їх <em>знайти</em>. Для параметрів webpack <code>modulesDirectories</code> та <code>extensions</code> є прямі аналоги в Jest: <code>moduleDirectories</code> та <code>moduleFileExtensions</code>.</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;jest&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;moduleFileExtensions&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jsx&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;moduleDirectories&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node_modules&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bower_components&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;shared&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token string">&quot;moduleNameMapper&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;\\.(css|less)$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/__mocks__/styleMock.js&quot;</span><span class="token punctuation">,</span>    
      <span class="token string">&quot;\\.(gif|ttf|eot|svg)$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/__mocks__/fileMock.js&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><blockquote><p>Примітка: &lt;rootdir&gt; - це спеціальний токен, який Jest замінює на кореневий каталог вашого проекту. В більшості випадків це буде каталог, в якому знаходиться ваш package.json, якщо тільки ви не вкажете <code>rootDir</code> в конфігурації Jest.</p></blockquote><p>Встановлення змінної оточення <code>NODE_PATH</code> працює так само, як і параметр webpack <code>resolve.root</code>. Також ви можете використати параметр Jest <code>modulePaths</code>.</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;jest&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;modulePaths&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;/shared/vendor/modules&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;moduleFileExtensions&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jsx&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;moduleDirectories&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node_modules&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bower_components&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;shared&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;moduleNameMapper&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;\\.(css|less)$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/__mocks__/styleMock.js&quot;</span><span class="token punctuation">,</span>    
      <span class="token string">&quot;\\.(gif|ttf|eot|svg)$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/__mocks__/fileMock.js&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><p>І нарешті, нам залишилося налаштувати аналог для параметру webpack <code>alias</code>. Для цього ми можемо знову використати параметр Jest <code>moduleNameMapper</code>.</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;jest&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;modulePaths&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;/shared/vendor/modules&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;moduleFileExtensions&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jsx&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;moduleDirectories&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node_modules&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bower_components&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;shared&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token string">&quot;moduleNameMapper&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;^react(.*)$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/vendor/react-master$1&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;^config$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/configs/app-config.js&quot;</span><span class="token punctuation">,</span>

      <span class="token string">&quot;\\.(css|less)$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/__mocks__/styleMock.js&quot;</span><span class="token punctuation">,</span>    
      <span class="token string">&quot;\\.(gif|ttf|eot|svg)$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/__mocks__/fileMock.js&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><p>Ось і все! webpack - це складний і гнучкий інструмент, тому вам, можливо, доведеться зробити деякі додаткові налаштування, щоб підтримувати специфічні вимоги вашого проекту. На щастя, для більшості проектів, Jest повинен бути більш ніж достатньо гнучкими, щоб підтримувати ваші конфігурації webpack.</p><blockquote><p>Примітка: Для підтримки більш складних конфігурацій webpack ви також можете ознайомитися з такими проектами, як: <a href="https://github.com/istarkov/babel-plugin-webpack-loaders" target="_blank">babel-plugin-webpack-loaders</a>.</p></blockquote><h2><a class="anchor" name="webpack-2"></a>Використання з webpack 2 <a class="hash-link" href="#webpack-2">#</a></h2><p>webpack 2 пропонує вбудовану підтримку для ES модулів. Однак, Jest працює в Node і тому вимагає, щоб ES модулі були перетворені в CommonJS модулі. Таким чином, якщо ви використовуєте webpack 2, вам, скоріше за все, потрібно буде налаштувати Babel для перетворення ES модулів в CommonJS тільки для середовища <code>test</code>.</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// .babelrc</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;presets&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">&quot;es2015&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&quot;modules&quot;</span><span class="token punctuation">:</span> <span class="token keyword">false</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token string">&quot;env&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;test&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;plugins&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;transform-es2015-modules-commonjs&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><blockquote><p>Примітка: Jest кешує файли, щоб пришвидшити виконання тестів. Якщо ви оновили .babelrc, але Jest досі не працює, спробуйте запустити Jest з параметром <code>--no-cache</code>.</p></blockquote><p>Якщо ви використовуєте динамічний імпорт (<code>import(&#x27;some-file.js&#x27;).then (module = &gt;...)</code>), вам необхідно включити <code>dynamic-import-node</code> плагін.</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// .babelrc</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;presets&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">&quot;es2015&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&quot;modules&quot;</span><span class="token punctuation">:</span> <span class="token keyword">false</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token string">&quot;plugins&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;syntax-dynamic-import&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token string">&quot;env&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;test&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;plugins&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;dynamic-import-node&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><p>For an example of how to use Jest with Webpack with React, Redux, and Node, you can view one <a href="https://github.com/jenniferkaplannyc/jest_react_redux_node_webpack_complex_example" target="_blank">here</a>.</p></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="manual-mocks.html#content">← Назад</a><a class="docs-next button" href="migration-guide.html#content">Читати далі →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/jest" class="nav-home"><img src="/jest/img/jest-outline.svg" alt="Jest" width="66" height="58"></a><div><h5>Docs</h5><a href="/jest/docs/uk/getting-started.html">Getting Started</a><a href="/jest/docs/uk/snapshot-testing.html">Guides</a><a href="/jest/docs/uk/api.html">API Reference</a></div><div><h5>Community</h5><a href="/jest/uk/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/jestjs" target="_blank">Stack Overflow</a><a href="https://discordapp.com/channels/102860784329052160/103622435865104384">Jest Chat</a><a href="https://twitter.com/fbjest" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/jest/blog">Blog</a><a href="https://github.com/facebook/jest">GitHub</a><a class="github-button" href="https://github.com/facebook/jest" data-icon="octicon-star" data-count-href="/facebook/jest/stargazers" data-count-api="/repos/facebook/jest#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star facebook/jest on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/jest/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"></a><section class="copyright">Copyright © 2017 Facebook Inc.</section></footer></div><div id="fb-root"></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-44373548-17', 'auto');
            ga('send', 'pageview');

            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)
            ){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");

            docsearch({
              apiKey: '833906d7486e4059359fa58823c4ef56',
              indexName: 'jest',
              inputSelector: '#search_input_react'
            });
          </script><script async defer src="https://buttons.github.io/buttons.js"></script></body></html>