<!DOCTYPE html><html lang="uk"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>The Jest Object · Jest</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="The `jest` object is automatically in scope within every test file. The methods in the `jest` object help create mocks and let you control Jest&#x27;s overall behavior. It can also be imported explicitly by via `import {jest} from &#x27;@jest/globals&#x27;`."/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="uk"/><meta property="og:title" content="The Jest Object · Jest"/><meta property="og:type" content="website"/><meta property="og:url" content="https://jestjs.io/"/><meta property="og:description" content="The `jest` object is automatically in scope within every test file. The methods in the `jest` object help create mocks and let you control Jest&#x27;s overall behavior. It can also be imported explicitly by via `import {jest} from &#x27;@jest/globals&#x27;`."/><meta property="og:image" content="https://jestjs.io/img/opengraph.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://jestjs.io/img/jest.png"/><link rel="shortcut icon" href="/img/favicon/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://jestjs.io/blog/atom.xml" title="Jest Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://jestjs.io/blog/feed.xml" title="Jest Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-44373548-17', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/uk"><img class="logo" src="/img/jest.svg" alt="Jest"/><h2 class="headerTitleWithLogo">Jest</h2></a><a href="/uk/versions"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/uk/next/getting-started" target="_self">Документація</a></li><li class="siteNavGroupActive"><a href="/docs/uk/next/api" target="_self">API</a></li><li class=""><a href="/uk/help" target="_self">Допомога</a></li><li class=""><a href="/blog/" target="_self">Блог</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>Українська</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/next/jest-object">English</a></li><li><a href="/docs/ja/next/jest-object">日本語</a></li><li><a href="/docs/es-ES/next/jest-object">Español</a></li><li><a href="/docs/pt-BR/next/jest-object">Português (Brasil)</a></li><li><a href="/docs/ro/next/jest-object">Română</a></li><li><a href="/docs/ru/next/jest-object">Русский</a></li><li><a href="/docs/zh-Hans/next/jest-object">简体中文</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://github.com/facebook/jest" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>API Reference</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Introduction</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/uk/next/getting-started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/using-matchers">Using Matchers</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/asynchronous">Testing Asynchronous Code</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/setup-teardown">Setup and Teardown</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/mock-functions">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/jest-platform">Jest Platform</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/jest-community">Jest Community</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/more-resources">More Resources</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Guides</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/uk/next/snapshot-testing">Тестування з допомогою знімків</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/tutorial-async">An Async Example</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/timer-mocks">Timer Mocks</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/manual-mocks">Manual Mocks</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/es6-class-mocks">ES6 Class Mocks</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/bypassing-module-mocks">Bypassing module mocks</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/webpack">Using with webpack</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/puppeteer">Using with puppeteer</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/mongodb">Using with MongoDB</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/dynamodb">Using with DynamoDB</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/tutorial-jquery">DOM Manipulation</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/watch-plugins">Watch Plugins</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/migration-guide">Migrating to Jest</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/troubleshooting">Troubleshooting</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/architecture">Архітектура</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Фреймворк посібники</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/uk/next/tutorial-react">Testing React Apps</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/tutorial-react-native">Testing React Native Apps</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/testing-frameworks">Testing Web Frameworks</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">API Reference</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/uk/next/api">Globals</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/expect">Expect</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/mock-function-api">Mock Functions</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/uk/next/jest-object">The Jest Object</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/configuration">Configuring Jest</a></li><li class="navListItem"><a class="navItem" href="/docs/uk/next/cli">Jest CLI Options</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/facebook/jest/edit/master/docs/JestObjectAPI.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">The Jest Object</h1></header><article><div><span><p>The <code>jest</code> object is automatically in scope within every test file. The methods in the <code>jest</code> object help create mocks and let you control Jest's overall behavior. It can also be imported explicitly by via <code>import {jest} from '@jest/globals'</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="mock-modules"></a><a href="#mock-modules" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mock Modules</h2>
<h3><a class="anchor" aria-hidden="true" id="jestdisableautomock"></a><a href="#jestdisableautomock" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.disableAutomock()</code></h3>
<p>Вимикає автоматичну генерацію імітацій в завантажувачі модулів.</p>
<blockquote>
<p>See <code>automock</code> section of <a href="/docs/uk/next/configuration#automock-boolean">configuration</a> for more information</p>
</blockquote>
<p>Після того, як буде викликаний цей метод, всі виклики <code>require()</code> будуть повертати реальні версії модулів (замість їх імітацій).</p>
<p>Jest configuration:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"automock"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<p>Приклад:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// utils.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">authorize</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'token'</span>;
  },
};
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">// __tests__/disableAutomocking.js</span>
<span class="hljs-keyword">import</span> utils <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;

jest.disableAutomock();

test(<span class="hljs-string">'original implementation'</span>, () =&gt; {
  <span class="hljs-comment">// now we have the original implementation,</span>
  <span class="hljs-comment">// even if we set the automocking in a jest configuration</span>
  expect(utils.authorize()).toBe(<span class="hljs-string">'token'</span>);
});
</code></pre>
<p>Зазвичай це буває корисно, коли у вас є сценарій, в якому кількість залежностей, для яких потрібно створити імітації, значно менша, ніж тих, для яких імітації не потрібні. Наприклад, якщо ви пишете тест для модуля, який використовує велику кількість залежностей, що можуть бути класифіковані як &quot;деталі реалізації&quot; модуля, тоді вам, схоже, не потрібно створювати імітації для них усіх.</p>
<p>Приклади залежностей, які можуть бути розцінені як &quot;деталі реалізації&quot;, починаються з вбудованих методів мови (такі як методи Array.prototype) і закінчуються дуже поширеними допоміжними методами (наприклад underscore/lo-dash) чи, навіть, цілими бібліотеками типу React.js.</p>
<p>Повертає об’єкт <code>jest</code> для створення ланцюжків викликів.</p>
<p><em>Примітка: цей метод раніше називався <code>autoMockOff</code>. Коли ви використовуєте <code>babel-jest</code>, виклики <code>disableAutomock</code> будуть автоматично спливати до початку блоку коду. Використовуйте <code>autoMockOff</code>, якщо ви хочете явно заборонити таку поведінку.</em></p>
<h3><a class="anchor" aria-hidden="true" id="jestenableautomock"></a><a href="#jestenableautomock" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.enableAutomock()</code></h3>
<p>Вмикає автоматичну генерацію імітацій в завантажувачі модулів.</p>
<p>Повертає об’єкт <code>jest</code> для створення ланцюжків викликів.</p>
<blockquote>
<p>See <code>automock</code> section of <a href="/docs/uk/next/configuration#automock-boolean">configuration</a> for more information</p>
</blockquote>
<p>Приклад:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// utils.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">authorize</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'token'</span>;
  },
  <span class="hljs-attr">isAuthorized</span>: <span class="hljs-function"><span class="hljs-params">secret</span> =&gt;</span> secret === <span class="hljs-string">'wizard'</span>,
};
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">// __tests__/disableAutomocking.js</span>
jest.enableAutomock();

<span class="hljs-keyword">import</span> utils <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;

test(<span class="hljs-string">'original implementation'</span>, () =&gt; {
  <span class="hljs-comment">// now we have the mocked implementation,</span>
  expect(utils.authorize._isMockFunction).toBeTruthy();
  expect(utils.isAuthorized._isMockFunction).toBeTruthy();
});
</code></pre>
<p><em>Примітка: цей метод раніше називався <code>autoMockOn</code>. Коли ви використовуєте <code>babel-jest</code>, виклики <code>enableAutomock</code> будуть автоматично спливати до початку блоку коду. Використовуйте <code>autoMockOn</code>, якщо ви хочете явно заборонити таку поведінку.</em></p>
<h3><a class="anchor" aria-hidden="true" id="jestcreatemockfrommodulemodulename"></a><a href="#jestcreatemockfrommodulemodulename" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.createMockFromModule(moduleName)</code></h3>
<h5><a class="anchor" aria-hidden="true" id="renamed-in-jest-2600"></a><a href="#renamed-in-jest-2600" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>renamed in Jest <strong>26.0.0+</strong></h5>
<p>Also under the alias: <code>.genMockFromModule(moduleName)</code></p>
<p>На основі заданого модуля, використовує систему автоматичного створення імітацій для створення імітації модуля.</p>
<p>Це корисно, коли ви хочете створити <a href="/docs/uk/next/manual-mocks">ручну імітацію</a>, яка розширює поведінку автоматично створеної імітації модуля.</p>
<p>Приклад:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// utils.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">authorize</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'token'</span>;
  },
  <span class="hljs-attr">isAuthorized</span>: <span class="hljs-function"><span class="hljs-params">secret</span> =&gt;</span> secret === <span class="hljs-string">'wizard'</span>,
};
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">// __tests__/createMockFromModule.test.js</span>
<span class="hljs-keyword">const</span> utils = jest.createMockFromModule(<span class="hljs-string">'../utils'</span>).default;
utils.isAuthorized = jest.fn(<span class="hljs-function"><span class="hljs-params">secret</span> =&gt;</span> secret === <span class="hljs-string">'not wizard'</span>);

test(<span class="hljs-string">'implementation created by jest.createMockFromModule'</span>, () =&gt; {
  expect(utils.authorize.mock).toBeTruthy();
  expect(utils.isAuthorized(<span class="hljs-string">'not wizard'</span>)).toEqual(<span class="hljs-literal">true</span>);
});
</code></pre>
<p>This is how <code>createMockFromModule</code> will mock the following data types:</p>
<h4><a class="anchor" aria-hidden="true" id="функція"></a><a href="#функція" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Функція</code></h4>
<p>Creates a new <a href="https://jestjs.io/docs/en/mock-functions.html">mock function</a>. The new function has no formal parameters and when called will return <code>undefined</code>. This functionality also applies to <code>async</code> functions.</p>
<h4><a class="anchor" aria-hidden="true" id="class"></a><a href="#class" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Class</code></h4>
<p>Creates new class. The interface of the original class is maintained, all of the class member functions and properties will be mocked.</p>
<h4><a class="anchor" aria-hidden="true" id="обєкт"></a><a href="#обєкт" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Об'єкт</code></h4>
<p>Creates a new deeply cloned object. The object keys are maintained and their values are mocked.</p>
<h4><a class="anchor" aria-hidden="true" id="array"></a><a href="#array" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Array</code></h4>
<p>Creates a new empty array, ignoring the original.</p>
<h4><a class="anchor" aria-hidden="true" id="primitives"></a><a href="#primitives" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Primitives</code></h4>
<p>Creates a new property with the same primitive value as the original property.</p>
<p>Приклад:</p>
<pre><code class="hljs">// example.js
module.exports = {
  function: function square(a, b) {
    return a * b;
  },
  asyncFunction: async function asyncSquare(a, b) {
    const result = await a * b;
    return result;
  },
  class: new class Bar {
    constructor() {
      this.array = [1, 2, 3];
    }
    foo() {}
  },
  object: {
    baz: 'foo',
    bar: {
      fiz: 1,
      buzz: [1, 2, 3],
    },
  },
  array: [1, 2, 3],
  number: 123,
  string: 'baz',
  boolean: true,
  symbol: Symbol.for('a.b.c'),
};
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">// __tests__/example.test.js</span>
<span class="hljs-keyword">const</span> example = jest.createMockFromModule(<span class="hljs-string">'./example'</span>);

test(<span class="hljs-string">'should run example code'</span>, () =&gt; {
  <span class="hljs-comment">// creates a new mocked function with no formal arguments.</span>
  expect(example<span class="hljs-function">.<span class="hljs-keyword">function</span>.<span class="hljs-title">name</span>).<span class="hljs-title">toEqual</span>(<span class="hljs-params"><span class="hljs-string">'square'</span></span>);
  <span class="hljs-title">expect</span>(<span class="hljs-params">example.function.length</span>).<span class="hljs-title">toEqual</span>(<span class="hljs-params"><span class="hljs-number">0</span></span>);

  // <span class="hljs-title">async</span> <span class="hljs-title">functions</span> <span class="hljs-title">get</span> <span class="hljs-title">the</span> <span class="hljs-title">same</span> <span class="hljs-title">treatment</span> <span class="hljs-title">as</span> <span class="hljs-title">standard</span> <span class="hljs-title">synchronous</span> <span class="hljs-title">functions</span>.
  <span class="hljs-title">expect</span>(<span class="hljs-params">example.asyncFunction.name</span>).<span class="hljs-title">toEqual</span>(<span class="hljs-params"><span class="hljs-string">'asyncSquare'</span></span>);
  <span class="hljs-title">expect</span>(<span class="hljs-params">example.asyncFunction.length</span>).<span class="hljs-title">toEqual</span>(<span class="hljs-params"><span class="hljs-number">0</span></span>);

  // <span class="hljs-title">creates</span> <span class="hljs-title">a</span> <span class="hljs-title">new</span> <span class="hljs-title">class</span> <span class="hljs-title">with</span> <span class="hljs-title">the</span> <span class="hljs-title">same</span> <span class="hljs-title">interface</span>, <span class="hljs-title">member</span> <span class="hljs-title">functions</span> <span class="hljs-title">and</span> <span class="hljs-title">properties</span> <span class="hljs-title">are</span> <span class="hljs-title">mocked</span>.
  <span class="hljs-title">expect</span>(<span class="hljs-params">example.class.constructor.name</span>).<span class="hljs-title">toEqual</span>(<span class="hljs-params"><span class="hljs-string">'Bar'</span></span>);
  <span class="hljs-title">expect</span>(<span class="hljs-params">example.class.foo.name</span>).<span class="hljs-title">toEqual</span>(<span class="hljs-params"><span class="hljs-string">'foo'</span></span>);
  <span class="hljs-title">expect</span>(<span class="hljs-params">example.class.array.length</span>).<span class="hljs-title">toEqual</span>(<span class="hljs-params"><span class="hljs-number">0</span></span>);

  // <span class="hljs-title">creates</span> <span class="hljs-title">a</span> <span class="hljs-title">deeply</span> <span class="hljs-title">cloned</span> <span class="hljs-title">version</span> <span class="hljs-title">of</span> <span class="hljs-title">the</span> <span class="hljs-title">original</span> <span class="hljs-title">object</span>.
  <span class="hljs-title">expect</span>(<span class="hljs-params">example.object</span>).<span class="hljs-title">toEqual</span>(<span class="hljs-params">{
    baz: <span class="hljs-string">'foo'</span>,
    bar: {
      fiz: <span class="hljs-number">1</span>,
      buzz: [],
    },
  }</span>);

  // <span class="hljs-title">creates</span> <span class="hljs-title">a</span> <span class="hljs-title">new</span> <span class="hljs-title">empty</span> <span class="hljs-title">array</span>, <span class="hljs-title">ignoring</span> <span class="hljs-title">the</span> <span class="hljs-title">original</span> <span class="hljs-title">array</span>.
  <span class="hljs-title">expect</span>(<span class="hljs-params">example.array.length</span>).<span class="hljs-title">toEqual</span>(<span class="hljs-params"><span class="hljs-number">0</span></span>);

  // <span class="hljs-title">creates</span> <span class="hljs-title">a</span> <span class="hljs-title">new</span> <span class="hljs-title">property</span> <span class="hljs-title">with</span> <span class="hljs-title">the</span> <span class="hljs-title">same</span> <span class="hljs-title">primitive</span> <span class="hljs-title">value</span> <span class="hljs-title">as</span> <span class="hljs-title">the</span> <span class="hljs-title">original</span> <span class="hljs-title">property</span>.
  <span class="hljs-title">expect</span>(<span class="hljs-params">example.number</span>).<span class="hljs-title">toEqual</span>(<span class="hljs-params"><span class="hljs-number">123</span></span>);
  <span class="hljs-title">expect</span>(<span class="hljs-params">example.string</span>).<span class="hljs-title">toEqual</span>(<span class="hljs-params"><span class="hljs-string">'baz'</span></span>);
  <span class="hljs-title">expect</span>(<span class="hljs-params">example.boolean</span>).<span class="hljs-title">toEqual</span>(<span class="hljs-params">true</span>);
  <span class="hljs-title">expect</span>(<span class="hljs-params">example.symbol</span>).<span class="hljs-title">toEqual</span>(<span class="hljs-params">Symbol.for(<span class="hljs-string">'a.b.c'</span></span>));
});
</span></code></pre>
<h3><a class="anchor" aria-hidden="true" id="jestmockmodulename-factory-options"></a><a href="#jestmockmodulename-factory-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.mock(moduleName, factory, options)</code></h3>
<p>Створює імітацію модуля, коли він буде підключений. <code>factory</code> і <code>options</code> опціональні. Наприклад:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// banana.js</span>
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-string">'banana'</span>;

<span class="hljs-comment">// __tests__/test.js</span>
jest.mock(<span class="hljs-string">'../banana'</span>);

<span class="hljs-keyword">const</span> banana = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../banana'</span>); <span class="hljs-comment">// banana will be explicitly mocked.</span>

banana(); <span class="hljs-comment">// will return 'undefined' because the function is auto-mocked.</span>
</code></pre>
<p>Другий параметр може бути використаний щоб явно вказати фабричний метод модуля, який буде виконано замість автоматичного створення імітації:</p>
<pre><code class="hljs css language-js">jest.mock(<span class="hljs-string">'../moduleName'</span>, () =&gt; {
  <span class="hljs-keyword">return</span> jest.fn(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-number">42</span>);
});

<span class="hljs-comment">// This runs the function specified as second argument to `jest.mock`.</span>
<span class="hljs-keyword">const</span> moduleName = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../moduleName'</span>);
moduleName(); <span class="hljs-comment">// Will return '42';</span>
</code></pre>
<p>When using the <code>factory</code> parameter for an ES6 module with a default export, the <code>__esModule: true</code> property needs to be specified. This property is normally generated by Babel / TypeScript, but here it needs to be set manually. When importing a default export, it's an instruction to import the property named <code>default</code> from the export object:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> moduleName, {foo} <span class="hljs-keyword">from</span> <span class="hljs-string">'../moduleName'</span>;

jest.mock(<span class="hljs-string">'../moduleName'</span>, () =&gt; {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">__esModule</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">default</span>: jest.fn(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-number">42</span>),
    <span class="hljs-attr">foo</span>: jest.fn(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-number">43</span>),
  };
});

moduleName(); <span class="hljs-comment">// Will return 42</span>
foo(); <span class="hljs-comment">// Will return 43</span>
</code></pre>
<p>Третій параметр можу бути використаний для створення віртуальних імітацій - таких, які не існують ніде в системі:</p>
<pre><code class="hljs css language-js">jest.mock(
  <span class="hljs-string">'../moduleName'</span>,
  () =&gt; {
    <span class="hljs-comment">/*
     * Custom implementation of a module that doesn't exist in JS,
     * like a generated module or a native module in react-native.
     */</span>
  },
  {<span class="hljs-attr">virtual</span>: <span class="hljs-literal">true</span>},
);
</code></pre>
<blockquote>
<p><strong>Warning:</strong> Importing a module in a setup file (as specified by <code>setupTestFrameworkScriptFile</code>) will prevent mocking for the module in question, as well as all the modules that it imports.</p>
</blockquote>
<p>Модулі, для яких створені імітації з допомогою <code>jest.mock</code> є імітаціями тільки в межах файлу, в якому було викликано <code>jest.mock</code>. Another file that imports the module will get the original implementation even if it runs after the test file that mocks the module.</p>
<p>Повертає об’єкт <code>jest</code> для створення ланцюжків викликів.</p>
<h3><a class="anchor" aria-hidden="true" id="jestunmockmodulename"></a><a href="#jestunmockmodulename" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.unmock(moduleName)</code></h3>
<p>Вказує системі модулів більше не повертати імітацію конкретного модуля з <code>require()</code> (має повертатися оригінальна версія модуля).</p>
<p>Найпоширеніше використання цього API - вказання модуля, який даний тест повинен протестувати (а отже для цього модуля не повивнна бути створена імітація).</p>
<p>Повертає об’єкт <code>jest</code> для створення ланцюжків викликів.</p>
<h3><a class="anchor" aria-hidden="true" id="jestdomockmodulename-factory-options"></a><a href="#jestdomockmodulename-factory-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.doMock(moduleName, factory, options)</code></h3>
<p>Примітка: використовуючи <code>babel-jest</code>, виклики <code>mock</code> будуть автоматично спливати до початку блоку коду. Використовуйте цей метод якщо ви явно хочете уникати накої поведінки.</p>
<p>Це може бути корисно, коли ви хочете по-різному імітувати модуль в межах одного і того ж файла з тестами:</p>
<pre><code class="hljs css language-js">beforeEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  jest.resetModules();
});

test(<span class="hljs-string">'moduleName 1'</span>, () =&gt; {
  jest.doMock(<span class="hljs-string">'../moduleName'</span>, () =&gt; {
    <span class="hljs-keyword">return</span> jest.fn(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-number">1</span>);
  });
  <span class="hljs-keyword">const</span> moduleName = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../moduleName'</span>);
  expect(moduleName()).toEqual(<span class="hljs-number">1</span>);
});

test(<span class="hljs-string">'moduleName 2'</span>, () =&gt; {
  jest.doMock(<span class="hljs-string">'../moduleName'</span>, () =&gt; {
    <span class="hljs-keyword">return</span> jest.fn(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-number">2</span>);
  });
  <span class="hljs-keyword">const</span> moduleName = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../moduleName'</span>);
  expect(moduleName()).toEqual(<span class="hljs-number">2</span>);
});
</code></pre>
<p>Using <code>jest.doMock()</code> with ES6 imports requires additional steps. Follow these if you don't want to use <code>require</code> in your tests:</p>
<ul>
<li>We have to specify the <code>__esModule: true</code> property (see the <a href="#jestmockmodulename-factory-options"><code>jest.mock()</code></a> API for more information).</li>
<li>Static ES6 module imports are hoisted to the top of the file, so instead we have to import them dynamically using <code>import()</code>.</li>
<li>Finally, we need an environment which supports dynamic importing. Please see <a href="/docs/uk/next/getting-started#using-babel">Using Babel</a> for the initial setup. Then add the plugin <a href="https://www.npmjs.com/package/babel-plugin-dynamic-import-node">babel-plugin-dynamic-import-node</a>, or an equivalent, to your Babel config to enable dynamic importing in Node.</li>
</ul>
<pre><code class="hljs css language-js">beforeEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  jest.resetModules();
});

test(<span class="hljs-string">'moduleName 1'</span>, () =&gt; {
  jest.doMock(<span class="hljs-string">'../moduleName'</span>, () =&gt; {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">__esModule</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">default</span>: <span class="hljs-string">'default1'</span>,
      <span class="hljs-attr">foo</span>: <span class="hljs-string">'foo1'</span>,
    };
  });
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../moduleName'</span>).then(<span class="hljs-function"><span class="hljs-params">moduleName</span> =&gt;</span> {
    expect(moduleName.default).toEqual(<span class="hljs-string">'default1'</span>);
    expect(moduleName.foo).toEqual(<span class="hljs-string">'foo1'</span>);
  });
});

test(<span class="hljs-string">'moduleName 2'</span>, () =&gt; {
  jest.doMock(<span class="hljs-string">'../moduleName'</span>, () =&gt; {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">__esModule</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">default</span>: <span class="hljs-string">'default2'</span>,
      <span class="hljs-attr">foo</span>: <span class="hljs-string">'foo2'</span>,
    };
  });
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../moduleName'</span>).then(<span class="hljs-function"><span class="hljs-params">moduleName</span> =&gt;</span> {
    expect(moduleName.default).toEqual(<span class="hljs-string">'default2'</span>);
    expect(moduleName.foo).toEqual(<span class="hljs-string">'foo2'</span>);
  });
});
</code></pre>
<p>Повертає об’єкт <code>jest</code> для створення ланцюжків викликів.</p>
<h3><a class="anchor" aria-hidden="true" id="jestdontmockmodulename"></a><a href="#jestdontmockmodulename" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.dontMock(moduleName)</code></h3>
<p>Примітка: використовуючи <code>babel-jest</code>, виклики <code>unmock</code> будуть автоматично спливати до початку блоку коду. Використовуйте цей метод якщо ви явно хочете уникати накої поведінки.</p>
<p>Повертає об’єкт <code>jest</code> для створення ланцюжків викликів.</p>
<h3><a class="anchor" aria-hidden="true" id="jestsetmockmodulename-moduleexports"></a><a href="#jestsetmockmodulename-moduleexports" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.setMock(moduleName, moduleExports)</code></h3>
<p>Явно вказує об’єкт-імітацію, який має повернути система модулів для вказаного модуля.</p>
<p>Іноді бувають випадки, коли автоматично згенерована імітація, яку вам надає система модулів, недостатньо підходить для ваших тестових потреб. Зазвичай в таких випадках вам варто написати <a href="/docs/uk/next/manual-mocks">ручний мок</a>, який найбільш підходить для запитаного модуля. Однак в екстремально рідкісних випадках навіть ручний мок не підходить для ваших цілей і вам потрібно створити імітацію всередині вашого тесту.</p>
<p>В таких рідкісних сценаріях ви можете використати цей API, щоб в ручну заповнити слот в реєстрі імітацій системи модулів.</p>
<p>Повертає об’єкт <code>jest</code> для створення ланцюжків викликів.</p>
<p><em>Примітка. Рекомендується використовувати <a href="#jestmockmodulename-factory-options"><code>jest.mock()</code></a> замість цього метода. Другий аргумент <code>jest.mock</code> - це функція, яка повертає імітацію замість очікуваного об’єкта модуля.</em></p>
<h3><a class="anchor" aria-hidden="true" id="jestrequireactualmodulename"></a><a href="#jestrequireactualmodulename" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.requireActual(moduleName)</code></h3>
<p>Returns the actual module instead of a mock, bypassing all checks on whether the module should receive a mock implementation or not.</p>
<p>Приклад:</p>
<pre><code class="hljs css language-js">jest.mock(<span class="hljs-string">'../myModule'</span>, () =&gt; {
  <span class="hljs-comment">// Require the original module to not be mocked...</span>
  <span class="hljs-keyword">const</span> originalModule = jest.requireActual(moduleName);

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">__esModule</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// Use it when dealing with esModules</span>
    ...originalModule,
    <span class="hljs-attr">getRandom</span>: jest.fn().mockReturnValue(<span class="hljs-number">10</span>),
  };
});

<span class="hljs-keyword">const</span> getRandom = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../myModule'</span>).getRandom;

getRandom(); <span class="hljs-comment">// Always returns 10</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="jestrequiremockmodulename"></a><a href="#jestrequiremockmodulename" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.requireMock(moduleName)</code></h3>
<p>Returns a mock module instead of the actual module, bypassing all checks on whether the module should be required normally or not.</p>
<h3><a class="anchor" aria-hidden="true" id="jestresetmodules"></a><a href="#jestresetmodules" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.resetModules()</code></h3>
<p>Скидає стан реєстру модулів - кешу всіх імпортованих модулів. Це корисно для ізоляції модулів, в яких локальний стан мжу конфліктувати між тестами.</p>
<p>Приклад:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> sum1 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../sum'</span>);
jest.resetModules();
<span class="hljs-keyword">const</span> sum2 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../sum'</span>);
sum1 === sum2;
<span class="hljs-comment">// &gt; false (sum1 і sum2 є різними екземплярами модуля "sum".)</span>
</code></pre>
<p>Приклад в тесті:</p>
<pre><code class="hljs css language-js">beforeEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  jest.resetModules();
});

test(<span class="hljs-string">'works'</span>, () =&gt; {
  <span class="hljs-keyword">const</span> sum = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../sum'</span>);
});

test(<span class="hljs-string">'works too'</span>, () =&gt; {
  <span class="hljs-keyword">const</span> sum = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../sum'</span>);
  <span class="hljs-comment">// змінна sum – це інша копія модуля "sum" у порівнянні з попереднім тестом.</span>
});
</code></pre>
<p>Повертає об’єкт <code>jest</code> для створення ланцюжків викликів.</p>
<h3><a class="anchor" aria-hidden="true" id="jestisolatemodulesfn"></a><a href="#jestisolatemodulesfn" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.isolateModules(fn)</code></h3>
<p><code>jest.isolateModules(fn)</code> goes a step further than <code>jest.resetModules()</code> and creates a sandbox registry for the modules that are loaded inside the callback function. This is useful to isolate specific modules for every test so that local module state doesn't conflict between tests.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">let</span> myModule;
jest.isolateModules(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  myModule = <span class="hljs-built_in">require</span>(<span class="hljs-string">'myModule'</span>);
});

<span class="hljs-keyword">const</span> otherCopyOfMyModule = <span class="hljs-built_in">require</span>(<span class="hljs-string">'myModule'</span>);
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="mock-functions"></a><a href="#mock-functions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mock functions</h2>
<h3><a class="anchor" aria-hidden="true" id="jestfnimplementation"></a><a href="#jestfnimplementation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.fn(implementation)</code></h3>
<p>Повертає нову <a href="/docs/uk/next/mock-function-api">функцію-імітацію</a>. Опціонально приймає її реалізацію.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> mockFn = jest.fn();
mockFn();
expect(mockFn).toHaveBeenCalled();

<span class="hljs-comment">// With a mock implementation:</span>
<span class="hljs-keyword">const</span> returnsTrue = jest.fn(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-literal">true</span>);
<span class="hljs-built_in">console</span>.log(returnsTrue()); <span class="hljs-comment">// true;</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="jestismockfunctionfn"></a><a href="#jestismockfunctionfn" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.isMockFunction(fn)</code></h3>
<p>Визначає, чи задана функція є імітацією.</p>
<h3><a class="anchor" aria-hidden="true" id="jestspyonobject-methodname"></a><a href="#jestspyonobject-methodname" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.spyOn(object, methodName)</code></h3>
<p>Creates a mock function similar to <code>jest.fn</code> but also tracks calls to <code>object[methodName]</code>. Returns a Jest <a href="/docs/uk/next/mock-function-api">mock function</a>.</p>
<p><em>Примітка: За замовчуванням, <code>jest.spyOn</code> також викликає метод <strong>за яким спостерігає</strong>. Це відміна поведінка у порівнянні з більшістю інших тестових бібліотек. Якщо ви очете переписати оригінальну функцію, ви можете використати <code>jest.spyOn(object, methodName).mockImplementation(() =&gt; customImplementation)</code> або <code>object[methodName] = jest.fn(() =&gt; customImplementation);</code></em></p>
<p>Приклад:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> video = {
  play() {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  },
};

<span class="hljs-built_in">module</span>.exports = video;
</code></pre>
<p>Приклад тесту:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> video = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./video'</span>);

test(<span class="hljs-string">'plays video'</span>, () =&gt; {
  <span class="hljs-keyword">const</span> spy = jest.spyOn(video, <span class="hljs-string">'play'</span>);
  <span class="hljs-keyword">const</span> isPlaying = video.play();

  expect(spy).toHaveBeenCalled();
  expect(isPlaying).toBe(<span class="hljs-literal">true</span>);

  spy.mockRestore();
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="jestspyonobject-methodname-accesstype"></a><a href="#jestspyonobject-methodname-accesstype" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.spyOn(object, methodName, accessType?)</code></h3>
<p>Since Jest 22.1.0+, the <code>jest.spyOn</code> method takes an optional third argument of <code>accessType</code> that can be either <code>'get'</code> or <code>'set'</code>, which proves to be useful when you want to spy on a getter or a setter, respectively.</p>
<p>Приклад:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> video = {
  <span class="hljs-comment">// it's a getter!</span>
  <span class="hljs-keyword">get</span> play() {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  },
};

<span class="hljs-built_in">module</span>.exports = video;

<span class="hljs-keyword">const</span> audio = {
  <span class="hljs-attr">_volume</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-comment">// it's a setter!</span>
  <span class="hljs-keyword">set</span> volume(value) {
    <span class="hljs-keyword">this</span>._volume = value;
  },
  <span class="hljs-keyword">get</span> volume() {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._volume;
  },
};

<span class="hljs-built_in">module</span>.exports = audio;
</code></pre>
<p>Приклад тесту:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> video = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./video'</span>);

test(<span class="hljs-string">'plays video'</span>, () =&gt; {
  <span class="hljs-keyword">const</span> spy = jest.spyOn(video, <span class="hljs-string">'play'</span>, <span class="hljs-string">'get'</span>); <span class="hljs-comment">// we pass 'get'</span>
  <span class="hljs-keyword">const</span> isPlaying = video.play;

  expect(spy).toHaveBeenCalled();
  expect(isPlaying).toBe(<span class="hljs-literal">true</span>);

  spy.mockRestore();
});

<span class="hljs-keyword">const</span> audio = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./audio'</span>);

test(<span class="hljs-string">'plays audio'</span>, () =&gt; {
  <span class="hljs-keyword">const</span> spy = jest.spyOn(audio, <span class="hljs-string">'volume'</span>, <span class="hljs-string">'set'</span>); <span class="hljs-comment">// we pass 'set'</span>
  audio.volume = <span class="hljs-number">100</span>;

  expect(spy).toHaveBeenCalled();
  expect(audio.volume).toBe(<span class="hljs-number">100</span>);

  spy.mockRestore();
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="jestclearallmocks"></a><a href="#jestclearallmocks" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.clearAllMocks()</code></h3>
<p>Clears the <code>mock.calls</code> and <code>mock.instances</code> properties of all mocks. Equivalent to calling <a href="/docs/uk/next/mock-function-api#mockfnmockclear"><code>.mockClear()</code></a> on every mocked function.</p>
<p>Повертає об’єкт <code>jest</code> для створення ланцюжків викликів.</p>
<h3><a class="anchor" aria-hidden="true" id="jestresetallmocks"></a><a href="#jestresetallmocks" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.resetAllMocks()</code></h3>
<p>Resets the state of all mocks. Equivalent to calling <a href="/docs/uk/next/mock-function-api#mockfnmockreset"><code>.mockReset()</code></a> on every mocked function.</p>
<p>Повертає об’єкт <code>jest</code> для створення ланцюжків викликів.</p>
<h3><a class="anchor" aria-hidden="true" id="jestrestoreallmocks"></a><a href="#jestrestoreallmocks" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.restoreAllMocks()</code></h3>
<p>Скидає всі імітації до їх оригінальних значень. Equivalent to calling <a href="/docs/uk/next/mock-function-api#mockfnmockrestore"><code>.mockRestore()</code></a> on every mocked function. Beware that <code>jest.restoreAllMocks()</code> only works when the mock was created with <code>jest.spyOn</code>; other mocks will require you to manually restore them.</p>
<h2><a class="anchor" aria-hidden="true" id="mock-timers"></a><a href="#mock-timers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mock timers</h2>
<h3><a class="anchor" aria-hidden="true" id="jestusefaketimersimplementation-modern--legacy"></a><a href="#jestusefaketimersimplementation-modern--legacy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.useFakeTimers(implementation?: 'modern' | 'legacy')</code></h3>
<p>Вказує Jest використовувати імітовані версії стандартних функцій таймерів (<code>setTimeout</code>, <code>setInterval</code>, <code>clearTimeout</code>, <code>clearInterval</code>, <code>nextTick</code>, <code>setImmediate</code> та <code>clearImmediate</code>).</p>
<p>If you pass <code>'modern'</code> as argument, <a href="https://github.com/sinonjs/fake-timers"><code>@sinonjs/fake-timers</code></a> will be used as implementation instead of Jest's own fake timers. This also mocks additional timers like <code>Date</code>. <code>'modern'</code> will be the default behavior in Jest 27.</p>
<p>Повертає об’єкт <code>jest</code> для створення ланцюжків викликів.</p>
<h3><a class="anchor" aria-hidden="true" id="jestuserealtimers"></a><a href="#jestuserealtimers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.useRealTimers()</code></h3>
<p>Вказує Jest використовувати реальні версії стандартних функцій таймерів.</p>
<p>Повертає об’єкт <code>jest</code> для створення ланцюжків викликів.</p>
<h3><a class="anchor" aria-hidden="true" id="jestrunallticks"></a><a href="#jestrunallticks" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.runAllTicks()</code></h3>
<p>Виконує всі <strong>мікрозавдання</strong> в черзі (зазвичай створені в Node з допомогою <code>process.nextTick</code>).</p>
<p>Коли викликається цей метод, всі мікрозавдання, заплановані через <code>process.nextTick</code> будуть виконані. Додатково, якщо ці мікрозавдання самі планують нові мікрозавдання, вони теж будуть постійно виконуватися поки в черзі не залишиться жодного мікрозавдання.</p>
<h3><a class="anchor" aria-hidden="true" id="jestrunalltimers"></a><a href="#jestrunalltimers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.runAllTimers()</code></h3>
<p>Exhausts both the <strong>macro</strong>-task queue (i.e., all tasks queued by <code>setTimeout()</code>, <code>setInterval()</code>, and <code>setImmediate()</code>) and the <strong>micro</strong>-task queue (usually interfaced in node via <code>process.nextTick</code>).</p>
<p>When this API is called, all pending macro-tasks and micro-tasks will be executed. If those tasks themselves schedule new tasks, those will be continually exhausted until there are no more tasks remaining in the queue.</p>
<p>Це часто буває корисно для синхронного виконання setTimeout’ів впродовж тесту для синхронної перевіки якоїсь поведінки, яка відбувається лише після виконання зворотніх викликів в <code>setTimeout()</code> або <code>setInterval()</code>. Перегляньте документацію по <a href="/docs/uk/next/timer-mocks">імітації таймерів</a> для отримання додаткової інформації.</p>
<h3><a class="anchor" aria-hidden="true" id="jestrunallimmediates"></a><a href="#jestrunallimmediates" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.runAllImmediates()</code></h3>
<p>Виконує всі завдання, заплановані з використанням <code>setImmediate()</code>.</p>
<blockquote>
<p>Note: This function is not available when using modern fake timers implementation</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="jestadvancetimersbytimemstorun"></a><a href="#jestadvancetimersbytimemstorun" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.advanceTimersByTime(msToRun)</code></h3>
<h5><a class="anchor" aria-hidden="true" id="renamed-in-jest-2200"></a><a href="#renamed-in-jest-2200" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>renamed in Jest <strong>22.0.0+</strong></h5>
<p>Also under the alias: <code>.runTimersToTime()</code></p>
<p>Виконує лише макрозавдання з черги (заплановані, використовуючи <code>setTimeout()</code>, <code>setInterval()</code> та <code>setImmediate()</code>).</p>
<p>When this API is called, all timers are advanced by <code>msToRun</code> milliseconds. All pending &quot;macro-tasks&quot; that have been queued via <code>setTimeout()</code> or <code>setInterval()</code>, and would be executed within this time frame will be executed. Крім того якщо ці макрозавдання запланують нові, які мають виконатися в межах того ж часового проміжку, вони теж будуть виконані допоки в черзі не залишиться завдань, що мають бути виконані впродовж <code>msToRun</code> мілісекунд.</p>
<h3><a class="anchor" aria-hidden="true" id="jestrunonlypendingtimers"></a><a href="#jestrunonlypendingtimers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.runOnlyPendingTimers()</code></h3>
<p>Виконує лише ті макрозавдання, які в даний час заплановані (тобто лише завдання, які були поставлені в чергу за допомогою <code>setTimeout()</code> чи <code>setInterval()</code> до цього моменту). Якщо будь яке з запланованих макрозавдань запланує нове макрозавдання, ті нові завдання не будуть виконані цим викликом.</p>
<p>Це корисно для сценаріїв, коли модуль, що тестується, викликає <code>setTimeout()</code>, зворотній виклик якого рекурсивно викликає інший <code>setTimeout()</code> (що означає, що послідовність таймаутів ніколи не припинеться). У таких сценаріях корисно мати можливість рухатися вперед в часі на один крок за раз.</p>
<h3><a class="anchor" aria-hidden="true" id="jestadvancetimerstonexttimersteps"></a><a href="#jestadvancetimerstonexttimersteps" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.advanceTimersToNextTimer(steps)</code></h3>
<p>Advances all timers by the needed milliseconds so that only the next timeouts/intervals will run.</p>
<p>Optionally, you can provide <code>steps</code>, so it will run <code>steps</code> amount of next timeouts/intervals.</p>
<h3><a class="anchor" aria-hidden="true" id="jestclearalltimers"></a><a href="#jestclearalltimers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.clearAllTimers()</code></h3>
<p>Видаляє всі заплановані таймери.</p>
<p>Це означає, що якщо були заплановані будь-які таймери (але вони ще не бли виконані), то вони будуть очищені і не будуть виконані в майбутньому.</p>
<h3><a class="anchor" aria-hidden="true" id="jestgettimercount"></a><a href="#jestgettimercount" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.getTimerCount()</code></h3>
<p>Returns the number of fake timers still left to run.</p>
<h3><a class="anchor" aria-hidden="true" id="jestsetsystemtime"></a><a href="#jestsetsystemtime" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>.jest.setSystemTime()</code></h3>
<p>Set the current system time used by fake timers. Simulates a user changing the system clock while your program is running. It affects the current time but it does not in itself cause e.g. timers to fire; they will fire exactly as they would have done without the call to <code>jest.setSystemTime()</code>.</p>
<blockquote>
<p>Note: This function is only available when using modern fake timers implementation</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="jestgetrealsystemtime"></a><a href="#jestgetrealsystemtime" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>.jest.getRealSystemTime()</code></h3>
<p>When mocking time, <code>Date.now()</code> will also be mocked. If you for some reason need access to the real current time, you can invoke this function.</p>
<blockquote>
<p>Note: This function is only available when using modern fake timers implementation</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="misc"></a><a href="#misc" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Misc</h2>
<h3><a class="anchor" aria-hidden="true" id="jestsettimeouttimeout"></a><a href="#jestsettimeouttimeout" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.setTimeout(timeout)</code></h3>
<p>Set the default timeout interval for tests and before/after hooks in milliseconds. This only affects the test file from which this function is called.</p>
<p><em>Примітка. За замовчуванням таймаут становить 5 секунд, якщо цей метод не був викликаний.</em></p>
<p><em>Note: If you want to set the timeout for all test files, a good place to do this is in <code>setupFilesAfterEnv</code>.</em></p>
<p>Приклад:</p>
<pre><code class="hljs css language-js">jest.setTimeout(<span class="hljs-number">1000</span>); <span class="hljs-comment">// 1 секунда</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="jestretrytimes"></a><a href="#jestretrytimes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.retryTimes()</code></h3>
<p>Runs failed tests n-times until they pass or until the max number of retries is exhausted. This only works with <a href="https://github.com/facebook/jest/tree/master/packages/jest-circus">jest-circus</a>!</p>
<p>Приклад в тесті:</p>
<pre><code class="hljs css language-js">jest.retryTimes(<span class="hljs-number">3</span>);
test(<span class="hljs-string">'will fail'</span>, () =&gt; {
  expect(<span class="hljs-literal">true</span>).toBe(<span class="hljs-literal">false</span>);
});
</code></pre>
<p>Повертає об’єкт <code>jest</code> для створення ланцюжків викликів.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/uk/next/mock-function-api"><span class="arrow-prev">← </span><span>Mock Functions</span></a><a class="docs-next button" href="/docs/uk/next/configuration"><span>Configuring Jest</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#mock-modules">Mock Modules</a><ul class="toc-headings"><li><a href="#jestdisableautomock"><code>jest.disableAutomock()</code></a></li><li><a href="#jestenableautomock"><code>jest.enableAutomock()</code></a></li><li><a href="#jestcreatemockfrommodulemodulename"><code>jest.createMockFromModule(moduleName)</code></a></li><li><a href="#jestmockmodulename-factory-options"><code>jest.mock(moduleName, factory, options)</code></a></li><li><a href="#jestunmockmodulename"><code>jest.unmock(moduleName)</code></a></li><li><a href="#jestdomockmodulename-factory-options"><code>jest.doMock(moduleName, factory, options)</code></a></li><li><a href="#jestdontmockmodulename"><code>jest.dontMock(moduleName)</code></a></li><li><a href="#jestsetmockmodulename-moduleexports"><code>jest.setMock(moduleName, moduleExports)</code></a></li><li><a href="#jestrequireactualmodulename"><code>jest.requireActual(moduleName)</code></a></li><li><a href="#jestrequiremockmodulename"><code>jest.requireMock(moduleName)</code></a></li><li><a href="#jestresetmodules"><code>jest.resetModules()</code></a></li><li><a href="#jestisolatemodulesfn"><code>jest.isolateModules(fn)</code></a></li></ul></li><li><a href="#mock-functions">Mock functions</a><ul class="toc-headings"><li><a href="#jestfnimplementation"><code>jest.fn(implementation)</code></a></li><li><a href="#jestismockfunctionfn"><code>jest.isMockFunction(fn)</code></a></li><li><a href="#jestspyonobject-methodname"><code>jest.spyOn(object, methodName)</code></a></li><li><a href="#jestspyonobject-methodname-accesstype"><code>jest.spyOn(object, methodName, accessType?)</code></a></li><li><a href="#jestclearallmocks"><code>jest.clearAllMocks()</code></a></li><li><a href="#jestresetallmocks"><code>jest.resetAllMocks()</code></a></li><li><a href="#jestrestoreallmocks"><code>jest.restoreAllMocks()</code></a></li></ul></li><li><a href="#mock-timers">Mock timers</a><ul class="toc-headings"><li><a href="#jestusefaketimersimplementation-modern--legacy"><code>jest.useFakeTimers(implementation?: 'modern' | 'legacy')</code></a></li><li><a href="#jestuserealtimers"><code>jest.useRealTimers()</code></a></li><li><a href="#jestrunallticks"><code>jest.runAllTicks()</code></a></li><li><a href="#jestrunalltimers"><code>jest.runAllTimers()</code></a></li><li><a href="#jestrunallimmediates"><code>jest.runAllImmediates()</code></a></li><li><a href="#jestadvancetimersbytimemstorun"><code>jest.advanceTimersByTime(msToRun)</code></a></li><li><a href="#jestrunonlypendingtimers"><code>jest.runOnlyPendingTimers()</code></a></li><li><a href="#jestadvancetimerstonexttimersteps"><code>jest.advanceTimersToNextTimer(steps)</code></a></li><li><a href="#jestclearalltimers"><code>jest.clearAllTimers()</code></a></li><li><a href="#jestgettimercount"><code>jest.getTimerCount()</code></a></li><li><a href="#jestsetsystemtime"><code>.jest.setSystemTime()</code></a></li><li><a href="#jestgetrealsystemtime"><code>.jest.getRealSystemTime()</code></a></li></ul></li><li><a href="#misc">Misc</a><ul class="toc-headings"><li><a href="#jestsettimeouttimeout"><code>jest.setTimeout(timeout)</code></a></li><li><a href="#jestretrytimes"><code>jest.retryTimes()</code></a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/jest-outline.svg" alt="Jest" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/uk/getting-started.html">Getting Started</a><a href="/docs/uk/snapshot-testing.html">Guides</a><a href="/docs/uk/api.html">API Reference</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/jestjs" target="_blank">Stack Overflow</a><a href="https://discord.gg/MWRhKCj">Jest Chat</a><a href="https://twitter.com/fbjest" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/facebook/jest">GitHub</a><a class="github-button" href="https://github.com/facebook/jest" data-icon="octicon-star" data-count-href="/facebook/jest/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star facebook/jest on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2020 Facebook Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '833906d7486e4059359fa58823c4ef56',
                indexName: 'jest',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:uk","version:next"]}
              });
            </script></body></html>