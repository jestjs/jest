<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>El Objeto Jest · Jest</title><meta name="viewport" content="width=device-width"><meta property="og:title" content="El Objeto Jest · Jest"><meta property="og:type" content="website"><meta property="og:url" content="https://facebook.github.io/jest/index.html"><meta property="og:image" content="https://facebook.github.io/jest/img/opengraph.png"><meta property="og:description" content="El objeto `jest` se encuentra de manera automática en el scope de cada archivo de prueba. Los métodos dentro del objeto `jest` ayudan a crear funciones simuladas mock y controlar el comportamiento general de Jest."><link rel="apple-touch-icon" sizes="180x180" href="/jest/img/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/jest/img/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/jest/img/favicon/favicon-16x16.png"><link rel="manifest" href="/jest/img/favicon/manifest.json"><link rel="mask-icon" href="/jest/img/favicon/safari-pinned-tab.svg"><link rel="shortcut icon" href="/jest/img/favicon/favicon.ico"><meta name="msapplication-config" content="/jest/img/favicon/browserconfig.xml"><meta name="theme-color" content="#99424f"><link rel="alternate" type="application/atom+xml" href="/jest/blog/atom.xml" title="Jest Blog ATOM Feed"><link rel="alternate" type="application/rss+xml" href="/jest/blog/feed.xml" title="Jest Blog RSS Feed"><link rel="shortcut icon" href="/jest/img/favicon.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"><link rel="stylesheet" href="/jest/css/jest.css?v=2"><link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.020/css/hack.min.css"><script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/jest/"><img src="/jest/img/jest-outline.svg"><h2>Jest</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/jest/docs/es-ES/getting-started.html" class="active">Documentación</a></li><li><a href="/jest/docs/es-ES/api.html" class="">API</a></li><li><a href="/jest/es-ES/help.html" class="">Ayuda</a></li><li><a href="/jest/blog/" class="">Blog</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/jest/img/language.svg">Español</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/jest/en">English</a></li><li><a href="/jest/pt-BR">Português (Brasil)</a></li><li><a href="/jest/ru">Русский</a></li><li><a href="/jest/uk">Українська</a></li><li><a href="/jest/zh-Hans">中文</a></li><li><a href="https://crowdin.com/project/jest" target="_blank">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input id="search_input_react" type="text" placeholder="Search"></li><li><a href="https://github.com/facebook/jest" class="">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>API Reference</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Introducción</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/getting-started.html#content">Para empezar</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/using-matchers.html#content">Utilizando Comparadores</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/asynchronous.html#content">Tests de código asincrónico</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/setup-teardown.html#content">Instalación y desmontaje</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/mock-functions.html#content">Funciones Mock</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/more-resources.html#content">Más recursos</a></li></ul></div><div class="navGroup navGroupActive"><h3>Referencia de la API</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/api.html#content">Globales</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/expect.html#content">Expect</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/mock-function-api.html#content">Funciones Mock</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/jest/docs/es-ES/jest-object.html#content">El Objeto Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/configuration.html#content">Configurando Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/cli.html#content">Opciones de CLI de Jest</a></li></ul></div><div class="navGroup navGroupActive"><h3>Guías</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/snapshot-testing.html#content">Snapshot Testing</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/tutorial-react.html#content">Testear Aplicaciones React</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/tutorial-react-native.html#content">Testear Aplicaciones React Native</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/tutorial-async.html#content">Un ejemplo de Async</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/timer-mocks.html#content">Mocks Temporizados</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/manual-mocks.html#content">Manual Mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/webpack.html#content">Usando Webpack</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/migration-guide.html#content">Migrando a Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/testing-frameworks.html#content">Testeando otros Frameworks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/troubleshooting.html#content">Solución de problemas</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/jest/es-ES" target="_blank">Translate this Doc</a><h1>El Objeto Jest</h1></header><article><div><p>El objeto <code>jest</code> se encuentra de manera automática en el scope de cada archivo de prueba. Los métodos dentro del objeto <code>jest</code> ayudan a crear funciones simuladas mock y controlar el comportamiento general de Jest.</p><h2><a class="anchor" name="metodos"></a>Métodos <a class="hash-link" href="#metodos">#</a></h2><ul><li><a href="#jestclearalltimers" target=""><code>jest.clearAllTimers()</code></a></li><li><a href="#jestdisableautomock" target=""><code>jest.disableAutomock()</code></a></li><li><a href="#jestenableautomock" target=""><code>jest.enableAutomock()</code></a></li><li><a href="#jestfnimplementation" target=""><code>jest.fn(implementation)</code></a></li><li><a href="#jestismockfunctionfn" target=""><code>jest.isMockFunction(fn)</code></a></li><li><a href="#jestgenmockfrommodulemodulename" target=""><code>jest.genMockFromModule(moduleName)</code></a></li><li><a href="#jestmockmodulename-factory-options" target=""><code>jest.mock(moduleName, factory, options)</code></a></li><li><a href="#jestclearallmocks" target=""><code>jest.clearAllMocks()</code></a></li><li><a href="#jestresetallmocks" target=""><code>jest.resetAllMocks()</code></a></li><li><a href="#jestresetmodules" target=""><code>jest.resetModules()</code></a></li><li><a href="#jestrunallticks" target=""><code>jest.runAllTicks()</code></a></li><li><a href="#jestrunalltimers" target=""><code>jest.runAllTimers()</code></a></li><li><a href="#jestruntimerstotimemstorun" target=""><code>jest.runTimersToTime(msToRun)</code></a></li><li><a href="#jestrunonlypendingtimers" target=""><code>jest.runOnlyPendingTimers()</code></a></li><li><a href="#jestsetmockmodulename-moduleexports" target=""><code>jest.setMock(moduleName, moduleExports)</code></a></li><li><a href="#jestsettesttimeouttimeout" target=""><code>jest.setTestTimeout(timeout)</code></a></li><li><a href="#jestunmockmodulename" target=""><code>jest.unmock(moduleName)</code></a></li><li><a href="#jestusefaketimers" target=""><code>jest.useFakeTimers()</code></a></li><li><a href="#jestuserealtimers" target=""><code>jest.useRealTimers()</code></a></li><li><a href="#jestspyonobject-methodname" target=""><code>jest.spyOn(object, methodName)</code></a></li></ul><hr><h2><a class="anchor" name="referencia"></a>Referencia <a class="hash-link" href="#referencia">#</a></h2><h3><a class="anchor" name="jestclearalltimers"></a><code>jest.clearAllTimers()</code> <a class="hash-link" href="#jestclearalltimers">#</a></h3><p>Remueve cualquier temporizador pendiente en el sistema de temporizadores.</p><p>Esto significa que, cualquier temporizador que haya sido programado (pero no se ha ejecutado aún), será borrado y no tendrá la oportunidad de ejecutarse en un futuro.</p><h3><a class="anchor" name="jestdisableautomock"></a><code>jest.disableAutomock()</code> <a class="hash-link" href="#jestdisableautomock">#</a></h3><p>Deshabilita la simulación mock automática en el cargador de módulos.</p><p>Una vez que se haya ejecutado este método, todas las llamadas a <code>require()</code> regresarán el módulo real (en lugar de una simulación mock).</p><p>Esto es especialmente útil en el caso donde las dependencias que se desean simular es mucho menor a las dependencias que no se desean simular. Por ejemplo, si se escribe un test para un módulo que ocupa una gran cantidad de dependencias que se podrían clasificar como &quot;detalles de la implementación&quot;, es probable que no se deseen simular.</p><p>Ejemplos de dependencias que podrían considerarse &quot;detalles de la implementación&quot; pueden ser módulos nativos del lenguaje (como métodos de Array.prototype), módulos de utilidad muy comunes (como underscore/lo-dash, utilidades de arreglos, etc) y librerías completas como React.js.</p><p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p><p><em>Nota: este método se llamaba anteriormente <code>autoMockOff</code>. Cuando se usa <code>babel-jest</code>, las llamadas a <code>disableAutomock</code> se llevan automáticamente al principio del bloque de código. Si se desea evitar este comportamiento, se debe usar <code>autoMockOff</code>.</em></p><h3><a class="anchor" name="jestenableautomock"></a><code>jest.enableAutomock()</code> <a class="hash-link" href="#jestenableautomock">#</a></h3><p>Habilita la simulación mock automática en el cargador de módulos.</p><p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p><p><em>Nota: este método se llamaba anteriormente <code>autoMockOn</code>. Cuando se usa <code>babel-jest</code>, las llamadas a <code>enableAutomock</code> se llevan automáticamente al principio del bloque de código. Si se desea evitar este comportamiento, se debe usar <code>autoMockOn</code>.</em></p><h3><a class="anchor" name="jestfnimplementation"></a><code>jest.fn(implementation)</code> <a class="hash-link" href="#jestfnimplementation">#</a></h3><p>Regresa una nueva instancia, sin utilizar, de una <a href="/jest/docs/mock-function-api.html" target="">función mock</a>. Opcionalmente acepta como parámetro una implementación de mock.</p><pre class="prism language-javascript">
  <span class="token keyword">const</span> mockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">mockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>mockFn<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span spellcheck="true" class="token comment">// With a mock implementation:</span>
  <span class="token keyword">const</span> returnsTrue <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">returnsTrue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true;</span></pre><h3><a class="anchor" name="jestismockfunctionfn"></a><code>jest.isMockFunction(fn)</code> <a class="hash-link" href="#jestismockfunctionfn">#</a></h3><p>Determina si la función dada es una función simulada.</p><h3><a class="anchor" name="jestgenmockfrommodulemodulename"></a><code>jest.genMockFromModule(moduleName)</code> <a class="hash-link" href="#jestgenmockfrommodulemodulename">#</a></h3><p>Dado el nombre de un modulo, usa el sistema automático de simulación mock para generar una versión mock del modulo deseado.</p><p>Esto es útil cuando se desea crear una <a href="/jest/docs/manual-mocks.html" target="">simulación manual</a> que extiende el comportamiento automático de la simulación mock.</p><h3><a class="anchor" name="jestmockmodulename-factory-options"></a><code>jest.mock(moduleName, factory, options)</code> <a class="hash-link" href="#jestmockmodulename-factory-options">#</a></h3><p>Crea una simulación mock de un modulo auto-mocked cuando es requerido. Las opciones <code>factory</code> y <code>options</code> son opcionales. Por ejemplo:</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// banana.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#x27;banana&#x27;</span><span class="token punctuation">;</span>

<span spellcheck="true" class="token comment">// __tests__/test.js</span>
jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&#x27;../banana&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> banana <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../banana&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// banana will be explicitly mocked.</span>

<span class="token function">banana</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// will return &#x27;undefined&#x27; because the function is auto-mocked.</span></pre><p>El segundo argumento puede usarse para especificar que se ejecute una fábrica de módulos de manera explicita en lugar de la funcionalidad de simulación mock automática de Jest:</p><pre class="prism language-javascript">
jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&#x27;../moduleName&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> moduleName <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../moduleName&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// This runs the function specified as second argument to `jest.mock`.</span>
<span class="token function">moduleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// Will return &#x27;42&#x27;;</span></pre><p>El tercer argumento puede ser usado para crear simulaciones mock virtuales, es decir, mocks de módulos que no existen en ninguna parte del sistema:</p><pre class="prism language-javascript">
jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&#x27;../moduleName&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span spellcheck="true" class="token comment">/*
   * Custom implementation of a module that doesn&#x27;t exist in JS,
   * like a generated module or a native module in react-native.
   */</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>virtual<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p><em>Nota: Cuando se usa <code>babel-jest</code>, las llamadas a <code>mock</code> se llevan automáticamente al principio del bloque de código. Si se desea evitar este comportamiento, se debe usar <code>doMock</code>.</em></p><p><em>Advertencia: Importar un modulo en el archivo de configuración inicial (como se especifica en <code>setupTestFrameworkScriptFile</code>) previene que se simule dicho modulo, así como cualquier otro módulo que éste importe.</em></p><p>Los módulos que son simulados vía <code>jest.mock</code> son solo simulados para el archivo que ejecuta <code>jest.mock</code>. Cualquier otro archivo que importe el modulo hará uso de la implementación original incluso si éste se ejecuta después de una prueba que use un mock para el mismo módulo.</p><p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p><h3><a class="anchor" name="jestclearallmocks"></a><code>jest.clearAllMocks()</code> <a class="hash-link" href="#jestclearallmocks">#</a></h3><p>Borra las propiedades <code>mock.calls</code> y <code>mock.instances</code> de todos los mocks. Es el equivalente a llamar a <code>.mockClear()</code> en cada función simulada.</p><p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p><h3><a class="anchor" name="jestresetallmocks"></a><code>jest.resetAllMocks()</code> <a class="hash-link" href="#jestresetallmocks">#</a></h3><p>Restablece el estado de todos los mock. Es el equivalente a llamar a <code>.mockReset()</code> en cada función simulada.</p><p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p><h3><a class="anchor" name="jestresetmodules"></a><code>jest.resetModules()</code> <a class="hash-link" href="#jestresetmodules">#</a></h3><p>Restablece el registro de módulos - el caché de todos los módulos importados. Esto es útil para aislar módulos donde estado local podría entrar en conflicto entre pruebas.</p><p>Ejemplo:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> sum1 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../sum&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jest<span class="token punctuation">.</span><span class="token function">resetModules</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sum2 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../sum&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sum1 <span class="token operator">===</span> sum2<span class="token punctuation">;</span>
<span spellcheck="true" class="token comment">// &gt; false (Both sum modules are separate &quot;instances&quot; of the sum module.)</span></pre><p>Ejemplo en una prueba:</p><pre class="prism language-javascript">
<span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  jest<span class="token punctuation">.</span><span class="token function">resetModules</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;works&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../sum&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;works too&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../sum&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span spellcheck="true" class="token comment">// sum is a different copy of the sum module from the previous test.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p><h3><a class="anchor" name="jestrunallticks"></a><code>jest.runAllTicks()</code> <a class="hash-link" href="#jestrunallticks">#</a></h3><p>Agota la cola de tareas <strong>micro</strong> (cuya interfaz en node es <code>process.nextTick</code>).</p><p>Cuando se llama a este API, todas las micro-tareas que estén en la cola de <code>process.nextTick</code> serán ejecutadas. De manera adicional, si esas micro-tareas mismas crean nuevas micro-tareas, éstas se agotaran continuamente hasta que no haya más micro-tareas en la cola.</p><h3><a class="anchor" name="jestrunalltimers"></a><code>jest.runAllTimers()</code> <a class="hash-link" href="#jestrunalltimers">#</a></h3><p>Agota la cola de tareas <strong>macro</strong> (es decir todas las tareas que hayan entrado a la cola de <code>setTimeout()</code>, <code>setInterval()</code>, y <code>setImmediate()</code>).</p><p>Cuando se llama a este API, todas las &quot;macro-tareas&quot; que estén en la cola de <code>setTimeout()</code> o <code>setInterval()</code> serán ejecutadas. De manera adicional, si esas macro-tareas mismas crean nuevas macro-tareas, éstas se agotaran continuamente hasta que no haya más micro-tareas en la cola.</p><p>Esto es útil para ejecutar setTimeouts de manera sincronía en una prueba para así verificar de manera sincronía acciones que ocurrirían después de que se ejecuten los callbacks de <code>setTimeout()</code> o <code>setInterval()</code>. Véase el documento de <a href="/jest/docs/timer-mocks.html" target="">Simulaciones de temporizadores</a> para más información.</p><h3><a class="anchor" name="jestrunallimmediates"></a><code>jest.runAllImmediates()</code> <a class="hash-link" href="#jestrunallimmediates">#</a></h3><p>Agota todas las tareas en la cola de <code>setImmediate()</code>.</p><h3><a class="anchor" name="jestruntimerstotimemstorun"></a><code>jest.runTimersToTime(msToRun)</code> <a class="hash-link" href="#jestruntimerstotimemstorun">#</a></h3><p>Ejecuta solo las tareas macro (es decir todas aquellas programadas por <code>setTimeout()</code>, <code>setInterval()</code> y <code>setImmediate()</code>).</p><p>Cuando se manda a llamar este API, todas las &quot;macro-tareas&quot; pendientes que se hayan puesto en la cola a través de <code>setTimeout()</code> o <code>setInterval()</code>, se ejecutarán después de la cantidad de mili segundos especificada en <code>msToRun</code>. Además si esas macro tareas programan nuevas macro tareas que se ejecutarían dentro del mismo plazo, éstas también se ejecutarán hasta que no haya más macro-tareas restantes en la cola. Esto se ejecutara en los mili segundos especificados en <code>msToRun</code>.</p><h3><a class="anchor" name="jestrunonlypendingtimers"></a><code>jest.runOnlyPendingTimers()</code> <a class="hash-link" href="#jestrunonlypendingtimers">#</a></h3><p>Ejecuta solo las macro-tareas que se encuentren pendientes (es decir, sólo las tareas que entraron a la cola vía <code>setTimeout()</code> o <code>setInterval()</code> hasta ese momento). Si cualquiera de esas macro-tareas crearon nuevas macro-tareas, éstas últimas no se ejecutarán en esta llamada.</p><p>Esto es útil para escenarios donde el modulo probado llama a <code>setTimeout()</code> y éste a su vez llama a <code>setTimeout()</code> de manera recursiva (de manera que las llamadas nunca terminan). En dichos escenarios, es útil poder avanzar en la linea de tiempo de ejecución un paso a la vez.</p><h3><a class="anchor" name="jestsetmockmodulename-moduleexports"></a><code>jest.setMock(moduleName, moduleExports)</code> <a class="hash-link" href="#jestsetmockmodulename-moduleexports">#</a></h3><p>Provee de manera especifica el modulo simulado mock que el sistema de módulos debe regresar para un modulo en especifico.</p><p>Hay ocasiones donde el modulo mock que se genera automáticamente por el sistema de módulos no es adecuado para las pruebas que se desean realizar. Normalmente, en esas circunstancias se debe escribir un módulo <a href="/jest/docs/manual-mocks.html" target="">mock manual</a> que sea más adecuado para el módulo en cuestión. Y sin embargo, en raras ocasiones, inclusive un mock manual puede no ser apropiado para los propósitos de la prueba, en cuyo caso se tiene que construir el mock dentro de la prueba.</p><p>En estos raros casos, se puede ocupar esta API para llenar de manera manual el registro del módulo mock en el sistema de módulos.</p><p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p><p><em>Es importante notar que es mejor práctica ocupar <a href="#jestmockmodulename-factory-options" target=""><code>jest.mock()</code></a>. El segundo argumento del API de <code>jest.mock</code> es una fábrica de modulos en lugar del objeto del modulo que se espera exportar.</em></p><h3><a class="anchor" name="jestsettesttimeouttimeout"></a><code>jest.setTestTimeout(timeout)</code> <a class="hash-link" href="#jestsettesttimeouttimeout">#</a></h3><p>Set the default timeout interval for tests in milliseconds.</p><p><em>Note: The default timeout interval is 5 seconds if this method is not called.</em></p><p>Ejemplo:</p><pre class="prism language-javascript">
jest<span class="token punctuation">.</span><span class="token function">setTestTimeout</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// 1 second</span></pre><h3><a class="anchor" name="jestunmockmodulename"></a><code>jest.unmock(moduleName)</code> <a class="hash-link" href="#jestunmockmodulename">#</a></h3><p>Le indica al sistema de módulos que nunca debe regresar una versión simulada mock de un modulo en especifico cuando se importe vía <code>require()</code> (es decir, que siempre debe regresar el modulo real).</p><p>El uso más común de esta API es para especificar el modulo que se va a probar (y que por tanto no se desea simular automáticamente).</p><p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p><p><em>Nota: este método se llamaba anteriormente <code>dontMock</code>. Cuando se usa <code>babel-jest</code>, las llamadas a <code>unmock</code> se llevan automáticamente al principio del bloque de código. Si se desea evitar este comportamiento, se debe usar <code>dontMock</code>.</em></p><h3><a class="anchor" name="jestusefaketimers"></a><code>jest.useFakeTimers()</code> <a class="hash-link" href="#jestusefaketimers">#</a></h3><p>Indica a Jest que se deben ocupar versiones falsas de las funciones estándares de temporizadores (<code>setTimeout</code>, <code>setInterval</code>, <code>clearTimeout</code>, <code>clearInterval</code>, <code>nextTick</code>, <code>setImmediate</code> y <code>clearImmediate</code>).</p><p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p><h3><a class="anchor" name="jestuserealtimers"></a><code>jest.useRealTimers()</code> <a class="hash-link" href="#jestuserealtimers">#</a></h3><p>Indica a Jest que se deben ocupar las versiones reales de las funciones estándares de temporizadores.</p><p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p><h3><a class="anchor" name="jestspyonobject-methodname"></a><code>jest.spyOn(object, methodName)</code> <a class="hash-link" href="#jestspyonobject-methodname">#</a></h3><h5><a class="anchor" name="disponible-en-jest-1900"></a>disponible en Jest <strong>19.0.0+</strong> <a class="hash-link" href="#disponible-en-jest-1900">#</a></h5><p>Crea una función simulada de manera similar a <code>jest.fn</code> pero que permite también llevar un registro de llamadas a <code>object[methodName]</code>. Regresa una función mock.</p><p><em>Nota: Por defecto, <code>jest.spyOn</code> también llama al método <strong>spied</strong>. Este comportamiento es diferente de casi todas las otras librerías para pruebas. Si se desea remplazar la función original, se puede usar <code>jest.spyOn(object, methodName).mockImplementation(() =&gt; implementacionPropia)</code> o <code>object[methodName] = jest.fn(() =&gt; implementacionPropia);</code></em></p><p>Ejemplo:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> video <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> video<span class="token punctuation">;</span></pre><p>Prueba de ejemplo:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> video <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./video&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;plays video&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> spy <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">spyOn</span><span class="token punctuation">(</span>video<span class="token punctuation">,</span> <span class="token string">&#x27;play&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> isPlaying <span class="token operator">=</span> video<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>spy<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>isPlaying<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  spy<span class="token punctuation">.</span><span class="token function">mockReset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  spy<span class="token punctuation">.</span><span class="token function">mockRestore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="mock-function-api.html#content">← Anterior</a><a class="docs-next button" href="configuration.html#content">Sigue leyendo →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/jest" class="nav-home"><img src="/jest/img/jest-outline.svg" alt="Jest" width="66" height="58"></a><div><h5>Docs</h5><a href="/jest/docs/es-ES/getting-started.html">Getting Started</a><a href="/jest/docs/es-ES/snapshot-testing.html">Guides</a><a href="/jest/docs/es-ES/api.html">API Reference</a></div><div><h5>Community</h5><a href="/jest/es-ES/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/jestjs" target="_blank">Stack Overflow</a><a href="https://discordapp.com/channels/102860784329052160/103622435865104384">Jest Chat</a><a href="https://twitter.com/fbjest" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/jest/blog">Blog</a><a href="https://github.com/facebook/jest">GitHub</a><a class="github-button" href="https://github.com/facebook/jest" data-icon="octicon-star" data-count-href="/facebook/jest/stargazers" data-count-api="/repos/facebook/jest#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star facebook/jest on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/jest/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"></a><section class="copyright">Copyright © 2017 Facebook Inc.</section></footer></div><div id="fb-root"></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-44373548-17', 'auto');
            ga('send', 'pageview');

            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)
            ){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");

            docsearch({
              apiKey: '833906d7486e4059359fa58823c4ef56',
              indexName: 'jest',
              inputSelector: '#search_input_react'
            });
          </script><script async defer src="https://buttons.github.io/buttons.js"></script></body></html>