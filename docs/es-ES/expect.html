<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Expect · Jest</title><meta name="viewport" content="width=device-width"><meta property="og:title" content="Expect · Jest"><meta property="og:type" content="website"><meta property="og:url" content="https://facebook.github.io/jest/index.html"><meta property="og:image" content="https://facebook.github.io/jest/img/opengraph.png"><meta property="og:description" content="Cuando estás escribiendo tests, a menudo necesitas comprobar que los valores cumplen ciertas condiciones. `expect` te da acceso a un número de marcadores que te permiten validar diferentes cosas."><link rel="apple-touch-icon" sizes="180x180" href="/jest/img/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/jest/img/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/jest/img/favicon/favicon-16x16.png"><link rel="manifest" href="/jest/img/favicon/manifest.json"><link rel="mask-icon" href="/jest/img/favicon/safari-pinned-tab.svg"><link rel="shortcut icon" href="/jest/img/favicon/favicon.ico"><meta name="msapplication-config" content="/jest/img/favicon/browserconfig.xml"><meta name="theme-color" content="#99424f"><link rel="alternate" type="application/atom+xml" href="/jest/blog/atom.xml" title="Jest Blog ATOM Feed"><link rel="alternate" type="application/rss+xml" href="/jest/blog/feed.xml" title="Jest Blog RSS Feed"><link rel="shortcut icon" href="/jest/img/favicon.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"><link rel="stylesheet" href="/jest/css/jest.css?v=2"><link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.020/css/hack.min.css"><script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/jest/"><img src="/jest/img/jest-outline.svg"><h2>Jest</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/jest/docs/es-ES/getting-started.html" class="active">Documentación</a></li><li><a href="/jest/docs/es-ES/api.html" class="">API</a></li><li><a href="/jest/es-ES/help.html" class="">Ayuda</a></li><li><a href="/jest/blog/" class="">Blog</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/jest/img/language.svg">Español</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/jest/en">English</a></li><li><a href="/jest/pt-BR">Português (Brasil)</a></li><li><a href="/jest/ru">Русский</a></li><li><a href="/jest/uk">Українська</a></li><li><a href="/jest/zh-Hans">简体中文</a></li><li><a href="https://crowdin.com/project/jest" target="_blank">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input id="search_input_react" type="text" placeholder="Search"></li><li><a href="https://github.com/facebook/jest" class="">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>API Reference</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Introducción</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/getting-started.html#content">Para empezar</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/using-matchers.html#content">Utilizando Comparadores</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/asynchronous.html#content">Tests de código asincrónico</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/setup-teardown.html#content">Instalación y desmontaje</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/mock-functions.html#content">Funciones Mock</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/more-resources.html#content">Más recursos</a></li></ul></div><div class="navGroup navGroupActive"><h3>Referencia de la API</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/api.html#content">Globales</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/jest/docs/es-ES/expect.html#content">Expect</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/mock-function-api.html#content">Funciones Mock</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/jest-object.html#content">El Objeto Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/configuration.html#content">Configurando Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/cli.html#content">Opciones de CLI de Jest</a></li></ul></div><div class="navGroup navGroupActive"><h3>Guías</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/snapshot-testing.html#content">Snapshot Testing</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/tutorial-react.html#content">Testear Aplicaciones React</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/tutorial-react-native.html#content">Testear Aplicaciones React Native</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/tutorial-async.html#content">Un ejemplo de Async</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/timer-mocks.html#content">Mocks Temporizados</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/manual-mocks.html#content">Manual Mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/webpack.html#content">Usando Webpack</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/migration-guide.html#content">Migrando a Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/testing-frameworks.html#content">Testeando otros Frameworks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/troubleshooting.html#content">Solución de problemas</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/jest/es-ES" target="_blank">Translate this Doc</a><h1>Expect</h1></header><article><div><p>Cuando estás escribiendo tests, a menudo necesitas comprobar que los valores cumplen ciertas condiciones. <code>expect</code> te da acceso a un número de marcadores que te permiten validar diferentes cosas.</p><h2><a class="anchor" name="metodos"></a>Métodos <a class="hash-link" href="#metodos">#</a></h2><div><autogenerated_table_of_contents>

</div><hr><h2><a class="anchor" name="referencia"></a>Referencia <a class="hash-link" href="#referencia">#</a></h2><h3><a class="anchor" name="expectvalue"></a><code>expect(value)</code> <a class="hash-link" href="#expectvalue">#</a></h3><p>La función <code>expect</code> se utiliza cada vez que desea testear un valor. Rara vez se utiliza <code>expect</code> por sí mismo. En su lugar, utilizarás <code>expect</code> junto a una función de &quot;comparación&quot; para afirmar algo sobre un valor.</p><p>Es más fácil entenderlo con este ejemplo. Digamos que tenemos un método <code>mejorSabor()</code> que se supone que devuelve el texto <code>&#x27;grapefruit&#x27;</code>. Así es cómo sería el test:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;el mejor sabor es de melocotón&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">mejorSabor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">&#x27;melocotón&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>En este caso, <code>toBe</code> es la función de comparación. Hay una gran cantidad de funciones matcher diferentes, documentadas a continuación, para ayudarte a probar cosas diferentes.</p><p>El argumento <code>expect</code> debe ser el valor que produce tu código, y cualquier argumento de comparación debe ser el valor correcto. Si los mezclas, tus test problablemente seguiran funcionando, pero los mensajes de error seran confusos.</p><h3><a class="anchor" name="expectextendmatchers"></a><code>expect.extend(matchers)</code> <a class="hash-link" href="#expectextendmatchers">#</a></h3><p>Puedes utilizar <code>expect.extend</code> para añadir tus propios comparadores a Jest. Por ejemplo, digamos que estás probando una librería de operaciones numéricas y con frecuencia estás afirmando que los números son divisibles por otros números. Podrías abstraer a un comparador de <code>divisiblePor</code>:</p><pre class="prism language-javascript">
expect<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">divisiblePor</span><span class="token punctuation">(</span>recibido<span class="token punctuation">,</span> argumento<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> pass <span class="token operator">=</span> <span class="token punctuation">(</span>recibido <span class="token operator">%</span> argumento <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pass<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        message<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>
          <span class="token template-string"><span class="token string">`se esperaba </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>recibido<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> no es divisible por </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>argumento<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        pass<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        message<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token template-string"><span class="token string">`se esperaba </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>recibido<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> ser divisible por </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>argumento<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        pass<span class="token punctuation">:</span> <span class="token keyword">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;números par y impar&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">divisiblePor</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">divisiblePor</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Los comparadores deben devolver un objeto con dos parámetros. <code>pass</code> indica si hubo un acierto o no, y <code>message</code> proporciona una función sin argumentos que devuelve un mensaje de error en caso de fallo. Así, cuando <code>pass</code> es falso, <code>message</code> debe devolver el mensaje de error para cuando <code>expect(x).tuComparador()</code>. Y cuando <code>pass</code> es &#x27;true&#x27;, <code>message</code> debe devolver el mensaje de error para cuando <code>expect(x).not.tuComparador()</code>.</p><p>Éstas funciones auxiliares se pueden encontrar dentro de <code>this</code> como comparador personalizado:</p><h4><a class="anchor" name="thisisnot"></a><code>this.isNot</code> <a class="hash-link" href="#thisisnot">#</a></h4><p>Un boleano te permite conocer si un comparador fue llamado con el modificador de negación <code>.not</code>, permitiendo negar la afirmación.</p><h4><a class="anchor" name="thisequalsa-b"></a><code>this.equals(a, b)</code> <a class="hash-link" href="#thisequalsa-b">#</a></h4><p>Esta es una función de igualdad profunda que regresará <code>true</code> si dos objetos tienen los mismos valores (recursivamente).</p><h4><a class="anchor" name="thisutils"></a><code>this.utils</code> <a class="hash-link" href="#thisutils">#</a></h4><p>Hay un número de herramientas de utilidad reveladas en <code>this.utils</code> que consisten en las funciones de <a href="https://github.com/facebook/jest/tree/master/packages/jest-matcher-utils" target="_blank"><code>jest-matcher-utils</code></a>.</p><p>Las más útiles son <code>matcherHint</code>, <code>printExpected</code> y <code>printReceived</code> para dar formato mas agradable a los mensajes de error. Por ejemplo, echa un vistazo en la implementación para el comparador <code>toBe</code>:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> diff <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;jest-diff&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
expect<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">toBe</span><span class="token punctuation">(</span>received<span class="token punctuation">,</span> expected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> pass <span class="token operator">=</span> received <span class="token operator">===</span> expected<span class="token punctuation">;</span>

    <span class="token keyword">const</span> message <span class="token operator">=</span> pass
      <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">matcherHint</span><span class="token punctuation">(</span><span class="token string">&#x27;.not.toBe&#x27;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#x27;\n\n&#x27;</span> <span class="token operator">+</span>
        <span class="token template-string"><span class="token string">`Expected value to not be (using ===):\n`</span></span> <span class="token operator">+</span>
        <span class="token template-string"><span class="token string">`  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">printExpected</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n`</span></span> <span class="token operator">+</span>
        <span class="token template-string"><span class="token string">`Received:\n`</span></span> <span class="token operator">+</span>
        <span class="token template-string"><span class="token string">`  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">printReceived</span><span class="token punctuation">(</span>received<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
      <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> diffString <span class="token operator">=</span> <span class="token function">diff</span><span class="token punctuation">(</span>expected<span class="token punctuation">,</span> received<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          expand<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>expand<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">matcherHint</span><span class="token punctuation">(</span><span class="token string">&#x27;.toBe&#x27;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#x27;\n\n&#x27;</span> <span class="token operator">+</span>
        <span class="token template-string"><span class="token string">`Expected value to be (using ===):\n`</span></span> <span class="token operator">+</span>
        <span class="token template-string"><span class="token string">`  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">printExpected</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n`</span></span> <span class="token operator">+</span>
        <span class="token template-string"><span class="token string">`Received:\n`</span></span> <span class="token operator">+</span>
        <span class="token template-string"><span class="token string">`  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">printReceived</span><span class="token punctuation">(</span>received<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span> <span class="token operator">+</span>
        <span class="token punctuation">(</span>diffString <span class="token operator">?</span> <span class="token template-string"><span class="token string">`\n\nDifference:\n\n</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>diffString<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span> <span class="token punctuation">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>actual<span class="token punctuation">:</span> received<span class="token punctuation">,</span> message<span class="token punctuation">,</span> pass<span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Esto mostrará algo así:</p><pre class="prism language-javascript">
  <span class="token function">expect</span><span class="token punctuation">(</span>recibido<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>esperado<span class="token punctuation">)</span>

    Expected value to be <span class="token punctuation">(</span>using <span class="token operator">===</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token string">&quot;banana&quot;</span>
    Received<span class="token punctuation">:</span>
      <span class="token string">&quot;apple&quot;</span></pre><p>Cuando una afirmación falla, el mensaje de error debería dar las señales necesarias para que el usuario pueda resolver sus problemas rápidamente. Deberías crear mensajes de errores precisos para que los usuarios de tus afirmaciones personalizadas se sientan cómodos usándolas.</p><h3><a class="anchor" name="expectanything"></a><code>expect.anything()</code> <a class="hash-link" href="#expectanything">#</a></h3><p><code>expect.anything()</code> aprobará cualquier cosa excepto <code>null</code> o <code>undefined</code>. Pedes usarlo dentro de <code>toEqual</code> o <code>toBeCalledWith</code> en vez de usar un valor literal. Por ejemplo, si quieres asegurarte de que un mock ha sido llamado con un argumento que no sea null:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;map calls its argument with a non-null argument&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> mock <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>mock<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>mock<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeCalledWith</span><span class="token punctuation">(</span>expect<span class="token punctuation">.</span><span class="token function">anything</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="expectanyconstructor"></a><code>expect.any(constructor)</code> <a class="hash-link" href="#expectanyconstructor">#</a></h3><p><code>expect.any(constructor)</code> aprueba cualquier cosa que sea creada con el constructor recibido. Puedes usarlo dentro de <code>toEqual</code> o <code>toBeCalledWith</code> en vez de usar un valor literal. Por ejemplo, si quieres asegurarte de que un mock ha sido llamado con un número:</p><pre class="prism language-javascript">
<span class="token keyword">function</span> <span class="token function">randocall</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;randocall calls its callback with a number&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> mock <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">randocall</span><span class="token punctuation">(</span>mock<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>mock<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeCalledWith</span><span class="token punctuation">(</span>expect<span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="expectarraycontainingarray"></a><code>expect.arrayContaining(array)</code> <a class="hash-link" href="#expectarraycontainingarray">#</a></h3><p><code>expect.arrayContaining(array)</code> aprueba que la matriz recibida contiene todos los elementos de la matriz esperada. Eso significa que la matriz esperada es un <strong>subconjunto</strong> de la matriz recibida. Por tanto, aprueba una matriz recibida que contenga elementos que <strong>no</strong> estén en la matriz esperada.</p><p>Puedes utilizarla en vez de usar un valor literal:</p><ul><li>en <code>toEqual</code> o <code>toBeCalledWith</code></li><li>para aprobar una propiedad en <code>objectContaining</code> o <code>toMatchObject</code></li></ul><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;arrayContaining&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> expected <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#x27;Alice&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bob&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;matches even if received contains additional elements&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#x27;Alice&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bob&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eve&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>expect<span class="token punctuation">.</span><span class="token function">arrayContaining</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;does not match if received does not contain expected elements&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#x27;Bob&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eve&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>expect<span class="token punctuation">.</span><span class="token function">arrayContaining</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;Beware of a misunderstanding! A sequence of dice rolls&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> expected <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;matches even with an unexpected number 7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>expect<span class="token punctuation">.</span><span class="token function">arrayContaining</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;does not match without an expected number 2&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>expect<span class="token punctuation">.</span><span class="token function">arrayContaining</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="expectassertionsnumber"></a><code>expect.assertions(number)</code> <a class="hash-link" href="#expectassertionsnumber">#</a></h3><p><code>expect.assertions(number)</code> verifica que un cierto número de afirmaciones han sido realizadas durante un test. Esto es útil a la hora de probar código asíncrono para asegurarnos de que las afirmaciones de un callback fueron llamadas.</p><p>Por ejemplo, supongamos que tenemos una función <code>doAsync</code> que recibe dos devoluciones de llamada <code>callback1</code> y <code>callback2</code>, asincrónicamente se llamará a ambas en un orden desconocido. Podemos comprobarlo con:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;doAsync llama a ambos callbacks&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  expect<span class="token punctuation">.</span><span class="token function">assertions</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">callback1</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeTruthy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">callback2</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeTruthy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">doAsync</span><span class="token punctuation">(</span>callback1<span class="token punctuation">,</span> callback2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>La llamada de <code>expect.assertions(2)</code> asegura que ambas devoluciones de llamada son efectivamente ejecutadas.</p><h3><a class="anchor" name="expecthasassertions"></a><code>expect.hasAssertions()</code> <a class="hash-link" href="#expecthasassertions">#</a></h3><p><code>expect.hasAssertions()</code> verifica que al menos una verificación es llamada durante un test. Esto es útil a la hora de probar código asíncrono para asegurarnos de que las afirmaciones de un callback fueron llamadas.</p><p>Por ejemplo, digamos que tenemos unas pocas funciones y todas tratan con un estado. <code>prepareState</code> llama a una devolución de llamada con un objeto de estado, <code>validateState</code> se ejecuta en este objeto de estado, y <code>waitOnState</code> devuelve una promesa que espera hasta que las devoluciones de llamada de <code>prepareState</code> completen. Podemos comprobarlo con:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;prepareState prepara un estado valido&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  expect<span class="token punctuation">.</span><span class="token function">hasAssertions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">prepareState</span><span class="token punctuation">(</span>state <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">validateState</span><span class="token punctuation">(</span>estado<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeTruthy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">waitOnState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>La llamada de <code>expect.hasAssertions()</code> asegura que ambas devoluciones de llamada de <code>prepareState</code> son efectivamente ejecutadas.</p><h3><a class="anchor" name="expectobjectcontainingobject"></a><code>expect.objectContaining(object)</code> <a class="hash-link" href="#expectobjectcontainingobject">#</a></h3><p><code>expect.objectContaining(object)</code> compara recursivamente con cualquier objeto recibido que cumpla con las propiedades esperadas. Es decir, el objeto esperado es un <strong>subconjunto</strong> del objeto recibido. De tal manera que, hace match con un objeto que contiene propiedades que <strong>no</strong> se encuentran en el objeto esperado.</p><p>Instead of literal property values in the expected object, you can use matchers, <code>expect.anything()</code>, and so on.</p><p>Por ejemplo, si se espera que la función <code>onPress</code> sea llamada con el objeto <code>Event</code>, y solo se necesita verificar que el evento tiene las propiedades <code>event.x</code> y <code>event.y</code>. Puedes hacer esto con:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;onPress es llamado con argumentos correctos&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> onPress <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">simulatePresses</span><span class="token punctuation">(</span>onPress<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>onPress<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeCalledWith</span><span class="token punctuation">(</span>expect<span class="token punctuation">.</span><span class="token function">objectContaining</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> expect<span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">,</span>
    y<span class="token punctuation">:</span> expect<span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="expectstringcontainingstring"></a><code>expect.stringContaining(string)</code> <a class="hash-link" href="#expectstringcontainingstring">#</a></h3><h5><a class="anchor" name="disponible-en-jest-1900"></a>disponible en Jest <strong>19.0.0+</strong> <a class="hash-link" href="#disponible-en-jest-1900">#</a></h5><p><code>expect.stringContaining(string)</code> coincide con cualquier cadena de texto recibida que contenga la cadena de texto exacta.</p><h3><a class="anchor" name="expectstringmatchingregexp"></a><code>expect.stringMatching(regexp)</code> <a class="hash-link" href="#expectstringmatchingregexp">#</a></h3><p><code>expect.stringMatching(regexp)</code> coincide con cualquier cadena recibida que coincida con la expresión regular esperada.</p><p>Puedes utilizarla en vez de usar un valor literal:</p><ul><li>en <code>toEqual</code> o <code>toBeCalledWith</code></li><li>para que coincida con un elemento en <code>arrayContaining</code></li><li>para aprobar una propiedad en <code>objectContaining</code> o <code>toMatchObject</code></li></ul><p>Este ejemplo también muestra cómo se pueden anidar múltiples marcadores de comparación asimétricas, con <code>expect.stringMatching</code> dentro de <code>expect.arrayContaining</code>.</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;stringMatching en arrayContaining&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> esperado <span class="token operator">=</span> <span class="token punctuation">[</span>
    expect<span class="token punctuation">.</span><span class="token function">stringMatching</span><span class="token punctuation">(</span><span class="token regex">/^Alic/</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    expect<span class="token punctuation">.</span><span class="token function">stringMatching</span><span class="token punctuation">(</span><span class="token regex">/^[BR]ob/</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;hace match incluso si se reciben elementos adicionales&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#x27;Alicia&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Roberto&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Evelina&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>expect<span class="token punctuation">.</span><span class="token function">arrayContaining</span><span class="token punctuation">(</span>esperado<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;no hace match si lo recibido no contiene los elementos esperados&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#x27;Roberto&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Evelina&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>expect<span class="token punctuation">.</span><span class="token function">arrayContaining</span><span class="token punctuation">(</span>esperado<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="expectaddsnapshotserializerserializer"></a><code>expect.addSnapshotSerializer(serializer)</code> <a class="hash-link" href="#expectaddsnapshotserializerserializer">#</a></h3><p>Puedes llamar a <code>expect.addSnapshotSerializer</code> para agregar un módulo que formatee estructuras de datos específicas de la aplicación.</p><p>Para un archivo de test individual, un módulo añadido precede a los módulos de <code>snapshotSerializers</code> en la configuración, que preceden los serializadores de instantánea predeterminados para tipos de JavaScript integrados y elementos de React. El último módulo añadido, es el primero módulo testeado.</p><pre class="prism language-javascript">
<span class="token keyword">import</span> serializer <span class="token keyword">from</span> <span class="token string">&#x27;my-serializer-module&#x27;</span><span class="token punctuation">;</span>
expect<span class="token punctuation">.</span><span class="token function">addSnapshotSerializer</span><span class="token punctuation">(</span>serializer<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span spellcheck="true" class="token comment">// afecta a las afirmaciones expect(value).toMatchSnapshot() en el archivo de test</span></pre><p>Si añades un serializador de instantánea en los archivos de test individuales en vez de a agregarlo a la configuración de <code>snapshotSerializers</code>:</p><ul><li>Haces la dependencia explícita en lugar de implícita.</li><li>Evitas límites de la configuración que podría causarte expulsar desde <a href="https://github.com/facebookincubator/create-react-app" target="_blank">create-react-app</a>.</li></ul><p>Véase <a href="/jest/docs/configuration.html#snapshotserializers-array-string" target="">configurando Jest</a> para más información.</p><h3><a class="anchor" name="not"></a><code>.not</code> <a class="hash-link" href="#not">#</a></h3><p>Si sabes cómo testear algo, <code>.no</code> te permite comprobar su opuesto. Por ejemplo, este código testea que el mejor sabor de La Croix no es coco:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;el mejor sabor no es coco&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">mejorSaborLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">&#x27;coco&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="resolves"></a><code>.resolves</code> <a class="hash-link" href="#resolves">#</a></h3><h5><a class="anchor" name="disponible-en-jest-2000"></a>disponible en Jest <strong>20.0.0+</strong> <a class="hash-link" href="#disponible-en-jest-2000">#</a></h5><p>Utiliza <code>resolves</code> para desenvolver el valor de una promesa cumplida, para que así cualquier otro marcados pueda ser encadenado. Si la promesa se rechaza la afirmación falla.</p><p>Por ejemplo, este código testea que la promesa resuelve y que el valor resultando es <code>&#x27;limon&#x27;</code>:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;resuelve a limon&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span spellcheck="true" class="token comment">// Es esencial que se agregue un statement de return</span>
  <span class="token keyword">return</span> <span class="token function">expect</span><span class="token punctuation">(</span>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;limon&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>resolves<span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">&#x27;limon&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Alternativamente, se puede usar <code>async/await</code> en combinación con <code>.resolves</code>:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;resuelve a limon&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">expect</span><span class="token punctuation">(</span>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;limon&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>resolves<span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">&#x27;limon&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">expect</span><span class="token punctuation">(</span>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;limon&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>resolves<span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">&#x27;pulpo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="rejects"></a><code>.rejects</code> <a class="hash-link" href="#rejects">#</a></h3><h5><a class="anchor" name="disponible-en-jest-2000"></a>disponible en Jest <strong>20.0.0+</strong> <a class="hash-link" href="#disponible-en-jest-2000">#</a></h5><p>Usa <code>.rejects</code> para desenvolver el valor de una promesa cumplida, para que así cualquier otro marcados pueda ser encadenado. Si la promesa es rechazada la afirmación falla.</p><p>Por ejemplo, este código de test que la promesa rechaza con una razón:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;fetchData() rechaza para ser un error&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span spellcheck="true" class="token comment">// Es esencial que se agregue un statement de return</span>
  <span class="token keyword">return</span> <span class="token function">expect</span><span class="token punctuation">(</span>Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#x27;pulpo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>rejects<span class="token punctuation">.</span><span class="token function">toBeDefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Alternativamente, se puede usar <code>async/await</code> en combinación con <code>.rejects</code>. Además, este código comprueba que la razón devuelta incluye &#x27;octopus&#x27;:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;fetchData() rechaza para ser un error&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> bebidaPulpo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ErrorSaborRepugnante</span><span class="token punctuation">(</span><span class="token string">&#x27;puaf, sabor a pulpo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">await</span> <span class="token function">expect</span><span class="token punctuation">(</span>bebidaPulpo<span class="token punctuation">)</span><span class="token punctuation">.</span>rejects<span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span><span class="token string">&#x27;pulpo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobevalue"></a><code>.toBe(value)</code> <a class="hash-link" href="#tobevalue">#</a></h3><p><code>toBe</code> solo comprueba que un valor es lo que se espera. Utiliza <code>===</code> para la comprobarla igualdad estricta.</p><p>Por ejemplo, este código validará algunas de las propiedades del objeto <code>lata</code>:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> lata <span class="token operator">=</span> <span class="token punctuation">{</span>
  nombre<span class="token punctuation">:</span> <span class="token string">&#x27;pomelo&#x27;</span><span class="token punctuation">,</span>
  onzas <span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;la lata&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;tiene 12 onzas&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>lata<span class="token punctuation">.</span>onzas<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;tiene un nombre sofisticado&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>lata<span class="token punctuation">.</span>nombre<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">&#x27;pomelo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>No utilices <code>toBe</code> con números de punto flotante. Por ejemplo, debido al redondeo, en JavaScript <code>0,2 + 0,1</code> no es estrictamente igual a <code>0,3</code>. Si tienes números de punto flotante, prueba <code>.toBeCloseTo</code> en su lugar.</p><h3><a class="anchor" name="tohavebeencalled"></a><code>.toHaveBeenCalled()</code> <a class="hash-link" href="#tohavebeencalled">#</a></h3><p>También bajo el alias: <code>.toBeCalled()</code></p><p>Usa <code>.toHaveBeenCalled</code> para asegurar que una función &quot;mock&quot; fue llamada.</p><p>Por ejemplo, digamos que tienes una función <code>beberTodo(beber, sabor)</code> que tiene una función <code>beber</code> y la aplica a todas las bebidas disponibles. Podrías querer comprobar que este <code>beber</code> es llamado para <code>&#x27;limon&#x27;</code>, pero no para <code>&#x27;pulpo&#x27;</code>, porque el sabor de <code>&#x27;pulpo&#x27;</code> es realmente extraño y, ¿por qué iba a tener algo sabor a pulpo? Puedes hacerlo con esta serie de tests:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;beberTodo&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;bebe algo con sabor a limon&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> beber <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">beberTodo</span><span class="token punctuation">(</span>beber<span class="token punctuation">,</span> <span class="token string">&#x27;limon&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>beber<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;no bebe algo con sabor a pulpo&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> beber <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">drinkAll</span><span class="token punctuation">(</span>beber<span class="token punctuation">,</span> <span class="token string">&#x27;pulpo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>beber<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tohavebeencalledtimesnumber"></a><code>.toHaveBeenCalledTimes(number)</code> <a class="hash-link" href="#tohavebeencalledtimesnumber">#</a></h3><p>Usa <code>.toHaveBeenCalledTimes</code> para asegurar que una función &quot;mock&quot; se llamo un número de veces exacto.</p><p>Por ejemplo, digamos que tienes una función <code>beberCada(beber, Array&lt;sabor&gt;)</code> que toma una función <code>beber</code> y la aplica a un arreglo de bebidas. Puede que quieras comprobar que la función beber se llamó un numero exacto de veces. Puedes hacerlo con esta serie de tests:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;beberCada bebe cada bebida&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> beber <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">beberCada</span><span class="token punctuation">(</span>beber<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;limon&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;pulpo&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>beber<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledTimes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tohavebeencalledwitharg1-arg2-"></a><code>.toHaveBeenCalledWith(arg1, arg2, ...)</code> <a class="hash-link" href="#tohavebeencalledwitharg1-arg2-">#</a></h3><p>También bajo el alias: <code>.toBeCalledWith</code></p><p>Usa <code>.toHaveBeenCalledWith</code> para asegurar que una función mock haya sido llamada con argumentos específicos.</p><p>Por ejemplo, digamos que tienes una bebida con una función <code>registrar</code>, y <code>aplicarATodo(f)</code> que aplica la función <code>f</code> a todas las bebidas registradas. Para asegurarte que funciona, puedes escribir:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;registro aplicado correctamente a La Croix naranja&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> bebida <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LaCroix</span><span class="token punctuation">(</span><span class="token string">&#x27;naranja&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">registrar</span><span class="token punctuation">(</span>bebida<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> f <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">aplicarATodo</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledWith</span><span class="token punctuation">(</span>bebida<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tohavebeenlastcalledwitharg1-arg2-"></a><code>.toHaveBeenLastCalledWith(arg1, arg2, ...)</code> <a class="hash-link" href="#tohavebeenlastcalledwitharg1-arg2-">#</a></h3><p>También bajo el alias: <code>.lastCalledWith(arg1, arg2, ...)</code></p><p>Si tienes una función mock, puedes usar <code>.toHaveBeenLastCalledWith</code> para ver los argumentos con los que fue llamada la ultima vez. Por ejemplo digamos que tienes una función <code>aplicarATodosLosSabores(f)</code> que aplica la función <code>f</code> a diversos sabores, y quieres asegurarte que la ultima vez que se llama a esta función el último sabor al que se le aplica la función es <code>&#x27;mango&#x27;</code>. Puedes escribir:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;aplicarATodosLosSabores deja el mango para el final&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> bebida <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">aplicarATodosLosSabores</span><span class="token punctuation">(</span>bebida<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>bebida<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenLastCalledWith</span><span class="token punctuation">(</span><span class="token string">&#x27;mango&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobeclosetonumero-numerodigitos"></a><code>.toBeCloseTo(número, númeroDigitos)</code> <a class="hash-link" href="#tobeclosetonumero-numerodigitos">#</a></h3><p>Usar la igualdad exacta con números de punto flotante es una mala idea. Redondear hace que cosas que parecen intuitivas puedan fallar. Por ejemplo, esta prueba falla:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;sumar funciona de manera sencilla con decimales simples&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">0.2</span> <span class="token operator">+</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// Falla!</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Esto falla porque en Javascript, <code>0.2 + 0.1</code> es en realidad <code>0.30000000000000004</code>. Lástima.</p><p>En su lugar, usa <code>.toBeCloseTo</code>. Utiliza <code>numDigits</code> para controlar cuántos dígitos después del punto decimal se deben verificar. Por ejemplo, si quieres estar seguro que <code>0.2 + 0.1</code> es igual a <code>0.3</code> con una precisión de 5 dígitos decimales, puedes ocupar esta prueba:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;sumar funciona de manera sencilla con decimales simples&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">0.2</span> <span class="token operator">+</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeCloseTo</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>El valor por defecto para <code>númeroDigitos</code> es 2, el cual ha demostrado ser un buen valor por defecto para la mayoría de los casos.</p><h3><a class="anchor" name="tobedefined"></a><code>.toBeDefined()</code> <a class="hash-link" href="#tobedefined">#</a></h3><p>Usa <code>.toBeDefined</code> para verificar que una variable no sea undefined. Por ejemplo, si deseas verificar que la función <code>conseguirNuevaIdeaSabor()</code> regresa <em>algo</em>, puedes escribir:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;hay una nueva idea de sabor&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">conseguirNuevaIdeaSabor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeDefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Puedes escribir <code>expect(conseguirNuevaIdeaSabor()).not.toBe(undefined)</code>, pero es buena practica omitir el uso de <code>undefined</code> directamente en el código.</p><h3><a class="anchor" name="tobefalsy"></a><code>.toBeFalsy()</code> <a class="hash-link" href="#tobefalsy">#</a></h3><p>Usa <code>.toBeFalsy</code> cuando no te importa el valor y solo te interesa saber si el valor es falso en un contexto booleano. Por ejemplo, digamos que algún fragmento de una aplicación se ve algo así:</p><pre class="prism language-javascript">
<span class="token function">beberPocoLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">conseguirErrores</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">beberMasLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre><p>Puede que no te importe el valor que <code>conseguirErrores</code> regrese, específicamente - podría regresar <code>false</code>, <code>null</code>, o ``, y el código funcionaría correctamente. Si quieres probar que no hay errores después de tomar algo de La Croix, podrías escribir:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;beber LaCroix no provoca errores&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">beberPocoLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">conseguirErrores</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeFalsy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>En JavaScript, hay seis valores falsos en contexto booleano, o &quot;falsy&quot;: <code>false</code>, <code>`,</code>&#x27;&#x27;<code>,</code>null<code>,</code>undefined<code>, y</code>NaN`. Cualquier otro valor es verdadero en contexto booleano, o &quot;truthy&quot;.</p><h3><a class="anchor" name="tobegreaterthannumero"></a><code>.toBeGreaterThan(número)</code> <a class="hash-link" href="#tobegreaterthannumero">#</a></h3><p>Para comparar números de punto flotante, puedes usar <code>toBeGreaterThan</code>. Por ejemplo, si deseas probar que <code>onzasPorLata()</code> regresa un valor de más de 10 onzas, puedes escribir:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;onzas por lata es mayor a 10&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">onzasPorLata</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeGreaterThan</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobegreaterthanorequalnumero"></a><code>.toBeGreaterThanOrEqual(número)</code> <a class="hash-link" href="#tobegreaterthanorequalnumero">#</a></h3><p>Para comparar números de punto flotante, puedes usar <code>toBeGreaterThanOrEqual</code>. Por ejemplo, si deseas probar que <code>onzasPorLata()</code> regresa un valor de por lo menos 12 onzas, puedes escribir:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;onzas por lata es por lo menos 12&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">onzasPorLata</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeGreaterThanOrEqual</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobelessthannumero"></a><code>.toBeLessThan(número)</code> <a class="hash-link" href="#tobelessthannumero">#</a></h3><p>Para comparar números de punto flotante, puedes usar <code>toBeLessThan</code>. Por ejemplo, si deseas probar que <code>onzasPorLata()</code> regresa un valor de menor a 20 onzas, puedes escribir:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;onzas por lata es menor a 20&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">onzasPorLata</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeLessThan</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobelessthanorequalnumero"></a><code>.toBeLessThanOrEqual(número)</code> <a class="hash-link" href="#tobelessthanorequalnumero">#</a></h3><p>Para comparar números de punto flotante, puedes usar <code>toBeLessThanOrEqual</code>. Por ejemplo, si deseas probar que <code>onzasPorLata()</code> regresa un valor de a lo mucho 12 onzas, puedes escribir:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;onzas por lata es a lo mucho 12&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">onzasPorLata</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeLessThanOrEqual</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobeinstanceofclass"></a><code>.toBeInstanceOf(Class)</code> <a class="hash-link" href="#tobeinstanceofclass">#</a></h3><p>Utiliza <code>.toBeInstanceOf(Class)</code> para verificar que un objeto es instancia de cierta clase. Esta comparación se realiza de manera interna ocupando <code>instanceof</code>.</p><pre class="prism language-javascript">
<span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeInstanceOf</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeInstanceOf</span><span class="token punctuation">(</span>Function<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeInstanceOf</span><span class="token punctuation">(</span>Function<span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// avienta error</span></pre><h3><a class="anchor" name="tobenull"></a><code>.toBeNull()</code> <a class="hash-link" href="#tobenull">#</a></h3><p><code>.toBeNull()</code> es idéntico a <code>.toBe(null)</code> pero con mensajes de error más claros. Por tanto, es preferible usar <code>.toBeNull()</code> para verificar si algo es nulo.</p><pre class="prism language-javascript">
<span class="token keyword">function</span> <span class="token function">bloop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;bloop regresa null&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">bloop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobetruthy"></a><code>.toBeTruthy()</code> <a class="hash-link" href="#tobetruthy">#</a></h3><p>Usa <code>.toBeTruthy</code> cuando no te importa el valor y solo te interesa saber si el valor es verdadero en un contexto booleano. Por ejemplo, digamos que algún fragmento de una aplicación se ve algo así:</p><pre class="prism language-javascript">
<span class="token function">beberPocoLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">infoSed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">beberMasLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre><p>Puede que no te importe el valor que <code>infoSed</code> regrese, específicamente - podría regresar <code>true</code>o un objeto complejo, y el código funcionaría correctamente. Así que si solo te interesa probar que <code>infoSed</code> sea verdadero en un contexto booleano, o &quot;truthy&quot; después de beber un poco de La Croix, podrías escribir:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;beber La Croix lleva a conseguir info de sed&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">beberPocoLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">infoSed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeTruthy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>En JavaScript, hay seis valores falsos en contexto booleano, o &quot;falsy&quot;: <code>false</code>, <code>`,</code>&#x27;&#x27;<code>,</code>null<code>,</code>undefined<code>, y</code>NaN`. Cualquier otro valor es verdadero en contexto booleano, o &quot;truthy&quot;.</p><h3><a class="anchor" name="tobeundefined"></a><code>.toBeUndefined()</code> <a class="hash-link" href="#tobeundefined">#</a></h3><p>Usa <code>.toBeDefined</code> para verificar que una variable es undefined. Por ejemplo, si quieres verificar que la función <code>mejorBebidaPorSabor(sabor)</code> regresa <code>undefined</code> para el sabor <code>&#x27;pulpo&#x27;</code>, porque no existe ninguna bebida con sabor a pulpo que sepa bien:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;la mejor bebida con sabor a pulpo es undefined&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">mejorBebidaPorSabor</span><span class="token punctuation">(</span><span class="token string">&#x27;pulpo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeUndefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Podría escribir <code>expect(mejorBebidaPorSabor(&#x27;pulpo&#x27;)).toBe(undefined)</code>, pero es buena practica omitir el uso de <code>undefined</code> directamente en el código.</p><h3><a class="anchor" name="tocontainitem"></a><code>.toContain(item)</code> <a class="hash-link" href="#tocontainitem">#</a></h3><p>Utilice <code>.toContain</code> cuando se desee verificar si un objeto esta en una lista. Para verificar cada objeto individual, este método utiliza <code>===</code>, una verificación estricta de igualdad.</p><p>Por ejemplo, si el método <code>conseguirTodosSabores()</code> regresa una lista de sabores y quieres estar seguro que <code>lima</code> esta en la lista, puedes escribir:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;la lista de sabores contiene lima&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">conseguirTodosSabores</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span><span class="token string">&#x27;lima&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tocontainequalitem"></a><code>.toContainEqual(item)</code> <a class="hash-link" href="#tocontainequalitem">#</a></h3><p>Utilice <code>.toContainEqual</code> cuando se desee verificar si un objeto esta en una lista. Para verificar cada objeto individualmente, este método verifica de manera recursiva igualdad en todos los campos, en lugar de verificar la identidad del objeto.</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;mi bebida&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;es deliciosa y no es agría&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> miBebida <span class="token operator">=</span> <span class="token punctuation">{</span>deliciosa<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span> agria<span class="token punctuation">:</span> <span class="token keyword">false</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">misBebidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContainEqual</span><span class="token punctuation">(</span>miBebida<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="toequalvalue"></a><code>.toEqual(value)</code> <a class="hash-link" href="#toequalvalue">#</a></h3><p>Utilice <code>.toEqual</code> cuando se desee verificar que dos objetos tienen el mismo valor. Este método verifica la igualdad de todos los campos, en lugar de verificar la identidad del objeto - a esto se le conoce también como &quot;igualdad profunda&quot;. Por ejemplo, <code>toEqual</code> y <code>toBe</code> se comportan diferentemente en esta serie de tests, así que todos los tests pasan:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> lata1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  sabor<span class="token punctuation">:</span> <span class="token string">&#x27;toronja&#x27;</span><span class="token punctuation">,</span>
  onzas<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> lata2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  sabor<span class="token punctuation">:</span> <span class="token string">&#x27;toronja&#x27;</span><span class="token punctuation">,</span>
  onzas<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;las latas de La Croix en mi escritorio&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;tienen las mismas propiedades&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>lata1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>lata2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;no son la misma lata&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>lata1<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>lata2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><blockquote><p>Nota: <code>.toEqual</code> no realizara una verificación de <em>igualdad profunda</em> para dos errores. Sólo la propiedad <code>message</code> de un error se verifica para comparar igualdad. Se recomienda utilizar el método <code>.toThrow</code> para probar errores.</p></blockquote><h3><a class="anchor" name="tohavelengthnumber"></a><code>.toHaveLength(number)</code> <a class="hash-link" href="#tohavelengthnumber">#</a></h3><p>Utilice <code>.toHaveLength</code> para verificar que un objeto tenga longitud de <code>.length</code> y tenga cierto valor numérico.</p><p>Es especialmente útil para verificar el tamaño de cadenas o arreglos.</p><pre class="prism language-javascript">
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">&#x27;abc&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tomatchregexporstring"></a><code>.toMatch(regexpOrString)</code> <a class="hash-link" href="#tomatchregexporstring">#</a></h3><p>Utilice <code>.toMatch</code> para verificar que la cadena coincida con una expresión regular (Regex).</p><p>Por ejemplo, puede que no sepas el valor exacto que <code>ensayoSobreElMejorSabor()</code> regresa, pero sabes que es una cadena muy larga, y que la cadena <code>toronja</code> es parte del contenido. Podemos probarlo con:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;un ensayo sobre el mejor sabor&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;menciona toronja&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">ensayoSobreElMejorSabor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span><span class="token regex">/toronja/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">ensayoSobreElMejorSabor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&#x27;toronja&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Este método acepta también una cadena, con la que va a intentar coincidir:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;las toronjas son saludables&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;las toronjas son frutas&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">&#x27;toronjas&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span><span class="token string">&#x27;fruta&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tomatchobjectobject"></a><code>.toMatchObject(object)</code> <a class="hash-link" href="#tomatchobjectobject">#</a></h3><p>Usa <code>.toMatchObject</code> para comprobar que un objeto de JavaScript coincide con un subconjunto de las propiedades de un objeto.</p><pre class="prism language-javascript">
<span class="token keyword">const</span> casaEnVenta <span class="token operator">=</span> <span class="token punctuation">{</span>
  bañera<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
  habitaciones<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  cocina<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    amenidades<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;horno&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;estufa&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;lavadora&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    area<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    colorPared<span class="token punctuation">:</span> <span class="token string">&#x27;blanco&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> casaDeseada <span class="token operator">=</span> <span class="token punctuation">{</span>
  bañera<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
  cocina<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    amenidades<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;horno&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;estufa&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;lavadora&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    colorPared<span class="token punctuation">:</span> <span class="token string">&#x27;blanco&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;la casa tiene las características deseadas&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>casaEnVenta<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchObject</span><span class="token punctuation">(</span>casaDeseada<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tohavepropertypathllave-valor"></a><code>.toHaveProperty(pathLlave, valor)</code> <a class="hash-link" href="#tohavepropertypathllave-valor">#</a></h3><p>Utilice <code>.toHaveProperty</code> para verificar si la propiedad en la referencia de <code>pathLlave</code> existe para un objeto dado. Para verificar las propiedades anidadas de un objeto, utilice <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Property_accessors" target="_blank">dot notation</a> para referencias profundas.</p><p>Opcionalmente, se puede proveer un <code>valor</code> para verificar si está presente en el <code>pathLlave</code> del objeto objetivo. Este método utiliza &#x27;igualdad profunda&#x27; (cómo <code>toEqual()</code>) y compara por igualdad a todos los campos de forma recursiva.</p><p>El siguiente ejemplo contiene un objeto <code>casaEnVenta</code> con propiedades anidadas. Estamos usando <code>toHaveProperty</code> para verificar la existencia y los valores de varias propiedades en el objeto.</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// Objeto con propiedades de casa a ser probadas</span>
<span class="token keyword">const</span> casaEnVenta <span class="token operator">=</span> <span class="token punctuation">{</span>
  bañera<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
  habitaciones<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  cocina<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    amenidades<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;horno&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;estufa&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;lavadora&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    area<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    colorPared<span class="token punctuation">:</span> <span class="token string">&#x27;blanco&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;esta casa contiene las propiedades deseadas&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span spellcheck="true" class="token comment">// Referencia simple</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>casaEnVenta<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">&#x27;bañera&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>casaEnVenta<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">&#x27;habitaciones&#x27;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>casaEnVenta<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">&#x27;alberca&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span spellcheck="true" class="token comment">// Referencias profundas usando dot notation</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>casaEnVenta<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">&#x27;cocina.area&#x27;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>casaEnVenta<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">&#x27;cocina.amenidades&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string">&#x27;horno&#x27;</span><span class="token punctuation">,</span>
    <span class="token string">&#x27;estufa&#x27;</span><span class="token punctuation">,</span>
    <span class="token string">&#x27;lavadora&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>casaEnVenta<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">&#x27;cocina.abierta&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tomatchsnapshotoptionalstring"></a><code>.toMatchSnapshot(optionalString)</code> <a class="hash-link" href="#tomatchsnapshotoptionalstring">#</a></h3><p>Esto garantiza que un valor coincide con el snapshot más reciente. Véase la <a href="/jest/docs/snapshot-testing.html" target="">guia de Snapshot Testing</a> para más información.</p><p>Opcionalmente, se puede nombrar explicitamente el nombre del snapshot. Si no se especifica, el nombre se infiere de la prueba.</p><p><em>Nota: Las pruebas de snapshot son comúnmente usadas con componentes de React, sin embargo cualquier valor serializable puede utilizarse como snapshot.</em></p><h3><a class="anchor" name="tothrowerror"></a><code>.toThrow(error)</code> <a class="hash-link" href="#tothrowerror">#</a></h3><p>También bajo el alias: <code>.toThrowError(error)</code></p><p>Utilice <code>.toThrow</code> en una prueba para verificar que una función arroja un error cuando se llama. Por ejemplo, si deseamos probar que <code>beberSabor(&#x27;pulpo&#x27;)</code> arroja un error, porque el sabor a pulpo es demasiado repugnante para beber, podemos escribir:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;arroja error en pulpo&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">beberSabor</span><span class="token punctuation">(</span><span class="token string">&#x27;pulpo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Si deseas verificar que se arroja cierto error en especifico, se le puede proveer un argumento a <code>toThrow</code>. El argumento puede ser una cadena representando el mensaje del error, la clase del error, o una expresión regular regex que coincida con el error. Por ejemplo, digamos que el código de <code>beberSabor</code> es el siguiente:</p><pre class="prism language-javascript">
<span class="token keyword">function</span> <span class="token function">beberSabor</span><span class="token punctuation">(</span>sabor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>sabor <span class="token operator">==</span> <span class="token string">&#x27;pulpo&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ErrorSaborRepugnante</span><span class="token punctuation">(</span><span class="token string">&#x27;guac! sabor a pulpo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span spellcheck="true" class="token comment">// Funcionalidad extra</span>
<span class="token punctuation">}</span></pre><p>Podríamos probar que este error lanza una excepción de varias formas:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;arroja error en pulpo&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">beberPulpo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">beberSabor</span><span class="token punctuation">(</span><span class="token string">&#x27;pulpo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span spellcheck="true" class="token comment">// Probar el mensaje de error</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>beberPulpo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrowError</span><span class="token punctuation">(</span><span class="token string">&#x27;guac! sabor a pulpo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span spellcheck="true" class="token comment">// Probar que el mensaje de error contiene &quot;guac&quot; en algún lugar del mensaje</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>beberPulpo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrowError</span><span class="token punctuation">(</span><span class="token regex">/guac/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span spellcheck="true" class="token comment">// Probar que arroja un error ErrorSaborRepugnante</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>beberPulpo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrowError</span><span class="token punctuation">(</span>ErrorSaborRepugnante<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tothrowerrormatchingsnapshot"></a><code>.toThrowErrorMatchingSnapshot()</code> <a class="hash-link" href="#tothrowerrormatchingsnapshot">#</a></h3><p>Utilice <code>.toThrowErrorMatchingSnapshot</code> para verificar que una función arroja un error que coincide con el snapshot más reciente al ser llamada. Por ejemplo, digamos que tienes una función <code>beberSabor</code> que arroja un error cuando el sabor es <code>&#x27;pulpo&#x27;</code>, y su código es el siguiente:</p><pre class="prism language-javascript">
<span class="token keyword">function</span> <span class="token function">beberSabor</span><span class="token punctuation">(</span>sabor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>sabor <span class="token operator">==</span> <span class="token string">&#x27;pulpo&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ErrorSaborRepugnante</span><span class="token punctuation">(</span><span class="token string">&#x27;guac! sabor a pulpo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span spellcheck="true" class="token comment">// Funcionalidad extra</span>
<span class="token punctuation">}</span></pre><p>El test para esta función se verá así:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;arroja error en pulpo&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">beberPulpo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">beberSabor</span><span class="token punctuation">(</span><span class="token string">&#x27;pulpo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>beberPulpo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrowErrorMatchingSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Y generará el siguiente snapshot:</p><pre class="prism language-javascript">
exports<span class="token punctuation">[</span><span class="token template-string"><span class="token string">`drinking flavors throws on octopus 1`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> `<span class="token string">&quot;yuck, octopus flavor&quot;</span>`<span class="token punctuation">;</span></pre><p>Echa un ojo a <a href="http://facebook.github.io/jest/blog/2016/07/27/jest-14.html" target="_blank">React Tree Snapshot Testing</a> para más información sobre tests de instantánea.</p></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="api.html#content">← Anterior</a><a class="docs-next button" href="mock-function-api.html#content">Sigue leyendo →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/jest" class="nav-home"><img src="/jest/img/jest-outline.svg" alt="Jest" width="66" height="58"></a><div><h5>Docs</h5><a href="/jest/docs/es-ES/getting-started.html">Getting Started</a><a href="/jest/docs/es-ES/snapshot-testing.html">Guides</a><a href="/jest/docs/es-ES/api.html">API Reference</a></div><div><h5>Community</h5><a href="/jest/es-ES/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/jestjs" target="_blank">Stack Overflow</a><a href="https://discordapp.com/channels/102860784329052160/103622435865104384">Jest Chat</a><a href="https://twitter.com/fbjest" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/jest/blog">Blog</a><a href="https://github.com/facebook/jest">GitHub</a><a class="github-button" href="https://github.com/facebook/jest" data-icon="octicon-star" data-count-href="/facebook/jest/stargazers" data-count-api="/repos/facebook/jest#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star facebook/jest on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/jest/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"></a><section class="copyright">Copyright © 2017 Facebook Inc.</section></footer></div><div id="fb-root"></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-44373548-17', 'auto');
            ga('send', 'pageview');

            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)
            ){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");

            docsearch({
              apiKey: '833906d7486e4059359fa58823c4ef56',
              indexName: 'jest',
              inputSelector: '#search_input_react'
            });
          </script><script async defer src="https://buttons.github.io/buttons.js"></script></body></html>