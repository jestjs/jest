<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Настройка Jest · Jest</title><meta name="viewport" content="width=device-width"><meta property="og:title" content="Настройка Jest · Jest"><meta property="og:type" content="website"><meta property="og:url" content="https://facebook.github.io/jest/index.html"><meta property="og:image" content="https://facebook.github.io/jest/img/opengraph.png"><meta property="og:description" content="Jest&#x27;s configuration can be defined in the `package.json` file of your project, through a `jest.config.js` file or through the `--config &lt;path/to/js|json&gt;` option. Если вы предпочитаете использовать файл `package.json` для хранения конфигурации Jest, то необходимо использовать ключ &quot;jest&quot; на верхнем уровне, чтобы Jest смог отыскать необходимые настройки:"><link rel="apple-touch-icon" sizes="180x180" href="/jest/img/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/jest/img/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/jest/img/favicon/favicon-16x16.png"><link rel="manifest" href="/jest/img/favicon/manifest.json"><link rel="mask-icon" href="/jest/img/favicon/safari-pinned-tab.svg"><link rel="shortcut icon" href="/jest/img/favicon/favicon.ico"><meta name="msapplication-config" content="/jest/img/favicon/browserconfig.xml"><meta name="theme-color" content="#99424f"><link rel="alternate" type="application/atom+xml" href="/jest/blog/atom.xml" title="Jest Blog ATOM Feed"><link rel="alternate" type="application/rss+xml" href="/jest/blog/feed.xml" title="Jest Blog RSS Feed"><link rel="shortcut icon" href="/jest/img/favicon.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"><link rel="stylesheet" href="/jest/css/jest.css?v=2"><link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.020/css/hack.min.css"><script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/jest/"><img src="/jest/img/jest-outline.svg"><h2>Jest</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/jest/docs/ru/getting-started.html" class="active">Документация</a></li><li><a href="/jest/docs/ru/api.html" class="">API</a></li><li><a href="/jest/ru/help.html" class="">Справка</a></li><li><a href="/jest/blog/" class="">Блог</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/jest/img/language.svg">Русский</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/jest/ja">日本語</a></li><li><a href="/jest/en">English</a></li><li><a href="/jest/es-ES">Español</a></li><li><a href="/jest/pt-BR">Português (Brasil)</a></li><li><a href="/jest/uk">Українська</a></li><li><a href="/jest/zh-Hans">简体中文</a></li><li><a href="https://crowdin.com/project/jest" target="_blank">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input id="search_input_react" type="text" placeholder="Search"></li><li><a href="https://github.com/facebook/jest" class="">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>API Reference</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Введение</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/ru/getting-started.html#content">Начало работы</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/using-matchers.html#content">Использование функций-проверок</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/asynchronous.html#content">Тестирование асинхронного кода</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/setup-teardown.html#content">Setup and Teardown</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/mock-functions.html#content">Mock-функции</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/more-resources.html#content">Дополнительные ресурсы</a></li></ul></div><div class="navGroup navGroupActive"><h3>Справочник по API</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/ru/api.html#content">Глобальные значения</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/expect.html#content">Expect</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/mock-function-api.html#content">Mock-функции</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/jest-object.html#content">Объект Jest</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/jest/docs/ru/configuration.html#content">Настройка Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/cli.html#content">Опции командной строки Jest</a></li></ul></div><div class="navGroup navGroupActive"><h3>Руководства</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/ru/snapshot-testing.html#content">Тестирование при помощи снимков</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/tutorial-react.html#content">Тестирование React приложений</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/tutorial-react-native.html#content">Тестирование React Native приложений</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/tutorial-async.html#content">Пример с асинхронностью</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/timer-mocks.html#content">Timer Mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/manual-mocks.html#content">Создаваемые вручную моки</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/webpack.html#content">Использование с Webpack</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/migration-guide.html#content">Переход на Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/testing-frameworks.html#content">Testing Other Frameworks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ru/troubleshooting.html#content">Устранение неполадок</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/jest/ru" target="_blank">Translate this Doc</a><h1>Настройка Jest</h1></header><article><div><p>Jest&#x27;s configuration can be defined in the <code>package.json</code> file of your project, through a <code>jest.config.js</code> file or through the <code>--config &lt;path/to/js|json&gt;</code> option. Если вы предпочитаете использовать файл <code>package.json</code> для хранения конфигурации Jest, то необходимо использовать ключ &quot;jest&quot; на верхнем уровне, чтобы Jest смог отыскать необходимые настройки:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;my-project&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;jest&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;verbose&quot;</span><span class="token punctuation">:</span> <span class="token keyword">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><p>Или с помощью JavaScript:</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// jest.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  verbose<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></pre><p>Пожалуйста, имейте в виду, что полученная конфигурация должна быть JSON-сериализируемой.</p><p>При использовании флага --config, JSON файл с конфигурацией не должен содержать ключа &quot;jest&quot;:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;bail&quot;</span><span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
  <span class="token string">&quot;verbose&quot;</span><span class="token punctuation">:</span> <span class="token keyword">true</span>
<span class="token punctuation">}</span></pre><h2><a class="anchor" name=""></a>Параметры <a class="hash-link" href="#">#</a></h2><p>Следующие параметры позволяют разработчику контролировать поведение Jest при указании в <code>package.json</code>. Философия Jest заключается в том, чтобы идеально функционировать по умолчанию, но время от времени разработчику может понадобиться больше возможностей для конфигурации.</p><div><autogenerated_table_of_contents>

</div><hr><h2><a class="anchor" name=""></a>Справка <a class="hash-link" href="#">#</a></h2><h3><a class="anchor" name="automock-boolean"></a><code>automock</code> [boolean] <a class="hash-link" href="#automock-boolean">#</a></h3><p>Значение по умолчанию: <code>false</code></p><p>Данная опция отключена по умолчанию. Если вы применяете Jest в большой организации с существующей базой кода, но небольшим количеством тестов, то указание данной опции может помочь ввести тесты постепенно. К модулям может быть применен автоматический мокинг при использовании <code>jest.mock(имяМодуля)</code>.</p><p><em>Заметка: К модулям ядра, таким как <code>fs</code>, мокинг по умолчанию не применяется, но если требуется, то к ним можно явно применить мокинг, к примеру так <code>jest.mock(&#x27;fs&#x27;)</code>.</em></p><p><em>Заметка: Автоматический мокинг может влиять на производительность в больших проектах. Смотрите <a href="troubleshooting.html#tests-are-slow-when-leveraging-automocking" target="_blank">подробности</a> о деталях и обходном пути.</em></p><h3><a class="anchor" name="browser-boolean"></a><code>browser</code> [boolean] <a class="hash-link" href="#browser-boolean">#</a></h3><p>Значение по умолчанию: <code>false</code></p><p>Учитывать Browserify <a href="https://github.com/substack/browserify-handbook#browser-field" target="_blank"><code>&quot;browser&quot;</code> поле </a> в <code>package.json</code> при разрешении модулей. Некоторые модули экспортируют различные версии основываясь на том оперируют ли он в Node или в браузере.</p><h3><a class="anchor" name="bail-boolean"></a><code>bail</code> [boolean] <a class="hash-link" href="#bail-boolean">#</a></h3><p>Значение по умолчанию: <code>false</code></p><p>По умолчанию Jest запускает все тесты и отображает все возникшие ошибки в консоли при завершении. Опция bail может быть использована, чтобы указать Jest на необходимость отменить запуск последующих тестов при возникновении первой ошибки.</p><h3><a class="anchor" name="cachedirectory-string"></a><code>cacheDirectory</code> [string] <a class="hash-link" href="#cachedirectory-string">#</a></h3><p>По умолчанию: <code>«/tmp/&lt;путь&gt;»</code></p><p>Директория, в которой Jest следует хранить кэшированные сведения о зависимостях.</p><p>Jest предпринимает попытку единожды просканировать дерево зависимостей (предварительно) и сохранить кэш с данными о них, чтобы облегчить проход файловой системы, который происходит при запуске тестов. Данная опция позволяет разработчику указать где именно в файловой системе следует хранить кэшированные данные.</p><h3><a class="anchor" name="collectcoverage-boolean"></a><code>collectCoverage</code> [boolean] <a class="hash-link" href="#collectcoverage-boolean">#</a></h3><p>Значение по умолчанию: <code>false</code></p><p>Указывает следует ли собирать информацию о тестовом покрытии при выполнении тестов. Из-за того, что данный процесс вносит информацию о покрытии во все выполненные файлы, ваши тесты могут быть существенно замедлены.</p><h3><a class="anchor" name="collectcoveragefrom-array"></a><code>collectCoverageFrom</code> [array] <a class="hash-link" href="#collectcoveragefrom-array">#</a></h3><p>Значение по умолчанию: <code>undefined</code></p><p>Массив <a href="https://github.com/jonschlinkert/micromatch" target="_blank">glob patterns</a>, который указывает, для каких файлов необходимо собирать информацию о покрытии. Если файл соответсвует шаблону указанному в массиве, то информация о покрытии будет собираться для него, даже если тестов для этого файла не существует и сам он не встречается в наборе тестов.</p><p>Пример:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;collectCoverageFrom&quot;</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span>&quot;<span class="token operator">*</span><span class="token operator">*</span><span spellcheck="true" class="token comment">/*.{js,jsx}&quot;, &quot;!**/</span>node_modules<span spellcheck="true" class="token comment">/**&quot;, &quot;!**/</span>vendor<span class="token operator">/</span><span class="token operator">*</span><span class="token operator">*</span>&quot;<span class="token punctuation">]</span>
<span class="token punctuation">}</span></pre><p>В этом примере, информация о покрытии будет собираться для всех файлов внутри проекта <code>rootDir</code>, за исключением тех, которые соответствуют <code>**/node_modules/**</code> или <code>**/vendor/**</code>.</p><p><em>Примечание: Для работы этой опции требуется установить опцию <code>collectCoverage</code> в значение true или запустить Jest с ключом <code>--coverage</code>.</em></p><h3><a class="anchor" name="coveragedirectory-string"></a><code>coverageDirectory</code> [string] <a class="hash-link" href="#coveragedirectory-string">#</a></h3><p>Значение по умолчанию: <code>undefined</code></p><p>Каталог, куда Jest будет сохранять файлы с информацией о покрытии.</p><h3><a class="anchor" name="coveragepathignorepatterns-array-string"></a><code>coveragePathIgnorePatterns</code> [array&lt;string&gt;] <a class="hash-link" href="#coveragepathignorepatterns-array-string">#</a></h3><p>Значение по умолчанию: <code>[&quot;/node_modules/&quot;]</code></p><p>Массив строк регулярный выражений, по которым проверяется соответствие путей файлов перед выполнением тестов. Если путь к файлу соответствует какому-либо шаблону, то информация о покрытии этого файла собираться не будет.</p><p>Эти строки шаблонов проверяют на соответствие полный путь. Используйте маркер <code>&lt;rootDir&gt;</code> в путях к корневой директории вашего проекта для предотвращения случайного игнорирования всех ваших файлов в различных окружениях, которые могут иметь другую корневую директорию. Пример: <code>[«&lt;rootDir&gt;/build/», «&lt;rootDir&gt;/node_modules/»]</code>.</p><h3><a class="anchor" name="coveragereporters-array-string"></a><code>coverageReporters</code> [array&lt;string&gt;] <a class="hash-link" href="#coveragereporters-array-string">#</a></h3><p>Значение по умолчанию: <code>[&quot;json&quot;, &quot;lcov&quot;, &quot;text&quot;]</code></p><p>Список названий форматов отчета, которые Jest использует для написания отчетов о покрытии. Может использоваться любой формат из <a href="https://github.com/gotwarlost/istanbul/tree/master/lib/report" target="_blank">istanbul reporter</a>.</p><p><em>Примечание: Этот параметр перезаписывает значения по умолчанию. Добавьте <code>&quot;text&quot;</code> или <code>&quot;text-summary&quot;</code>, чтобы увидеть в консоли краткое содержание о покрытии.</em></p><h3><a class="anchor" name="coveragethreshold-object"></a><code>coverageThreshold</code> [object] <a class="hash-link" href="#coveragethreshold-object">#</a></h3><p>Значение по умолчанию: <code>undefined</code></p><p>Эта опция используется для настройки минимального значения порога для результатов покрытия. Если пороговые значения не будут выполнены, то Jest будет возвращать ошибку. Пороговые значения, которые указаны как положительное число, считаются минимальным процентом. Отрицательные пороговые значения говорят о максимальном допустимом количестве непокрытых объектов. Thresholds can be specified as <code>global</code>, as <code>glob</code> paths or just paths. If globs or paths are specified alongside <code>global</code>, coverage data for matching paths will be subtracted from overal coverage and thresholds will be applied independently. Threshold for globs is applied to all files matching the glob. If the file specified by path is not found, error is returned.</p><p>For example, statements: 90 implies minimum statement coverage is 90%. statements: -10 implies that no more than 10 uncovered statements are allowed. <code>global</code> branch threshold 50 will be applied to all files minus matching <code>./src/components/**/*.js</code> and <code>./src/api/very-important-module.js</code>.</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token string">&quot;jest&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;coverageThreshold&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;global&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;branches&quot;</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
        <span class="token string">&quot;functions&quot;</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
        <span class="token string">&quot;lines&quot;</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
        <span class="token string">&quot;statements&quot;</span><span class="token punctuation">:</span> <span class="token number">50</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      &quot;<span class="token punctuation">.</span><span class="token operator">/</span>src<span class="token operator">/</span>components<span spellcheck="true" class="token comment">/**/</span><span class="token operator">*</span><span class="token punctuation">.</span>js&quot;<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;branches&quot;</span><span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
        <span class="token string">&quot;statements&quot;</span><span class="token punctuation">:</span> <span class="token number">40</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">&quot;./src/api/very-important-module.js&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;branches&quot;</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        <span class="token string">&quot;functions&quot;</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        <span class="token string">&quot;lines&quot;</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        <span class="token string">&quot;statements&quot;</span><span class="token punctuation">:</span> <span class="token number">100</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><h3><a class="anchor" name="globals-object"></a><code>globals</code> [object] <a class="hash-link" href="#globals-object">#</a></h3><p>Значение по умолчанию: <code>{}</code></p><p>Набор глобальных переменных, которые необходимы во всех тестовых средах.</p><p>Например, следующий код инициализирует глобальную переменную <code>__DEV__</code> в <code>true</code> во всех тестовых средах:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token string">&quot;jest&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;globals&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;__DEV__&quot;</span><span class="token punctuation">:</span> <span class="token keyword">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><p>Обратите внимание, что, если значение глобальной переменной будет ссылочным типом (к примеру объект или массив), и где-то в коде это значение будет изменяться в момент, когда тесты запущены, то данные изменения <em>не </em> будут сохранены в тестовых прогонах для других тестовых файлов.</p><h3><a class="anchor" name="mapcoverage-boolean"></a><code>mapCoverage</code> [boolean] <a class="hash-link" href="#mapcoverage-boolean">#</a></h3><h5><a class="anchor" name="jest-2000"></a>доступно в версиях Jest <strong>20.0.0+</strong> <a class="hash-link" href="#jest-2000">#</a></h5><p>Значение по умолчанию: <code>false</code></p><p>Если у вас есть настроенные <a href="#transform-object-string-string" target="">конвертеры</a>, которые выдают source maps, то Jest будет пробовать сопоставить их покрытие с оригинальным исходным кодом при составлении <a href="#coveragereporters-array-string" target="">отчетов</a> и проверки <a href="#coveragethreshold-object" target="">порогов</a>. Это будет сделано наилучшим образом, поскольку некоторые компилируемые в JavaScript языки могут предоставить более точные source maps, чем другие. Данный процесс может быть ресурсоемким. Если Jest занимает много времени для расчета покрытия в конце выполнения теста, то попробуйте установить этот параметр в значение <code>false</code>.</p><p>Поддерживаются, как встроенные source maps, так и те, которые непосредственно вернул конвертер. Source map по URL адресу не поддерживается, так как Jest не сможет получить их расположение. Чтобы вернуть source maps из конвертера, <code>process</code> функция может возвращать объект следующего формата. Свойство <code>map</code> может быть объектом source map или source map в формате JSON строки.</p><pre class="prism language-javascript">
<span class="token keyword">return</span> <span class="token punctuation">{</span>
  code<span class="token punctuation">:</span> <span class="token string">&#x27;the code&#x27;</span><span class="token punctuation">,</span>
  map<span class="token punctuation">:</span> <span class="token string">&#x27;the source map&#x27;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="modulefileextensions-array-string"></a><code>moduleFileExtensions</code> [array&lt;string&gt;] <a class="hash-link" href="#modulefileextensions-array-string">#</a></h3><p>Значение по умолчанию: <code>[&quot;js&quot;, &quot;json&quot;, &quot;jsx&quot;, &quot;node&quot;]</code></p><p>Массив расширений файлов используемых модулей. Если вы импортируете модули без расширения файла, то указанные расширения будут использоваться Jest для поиска.</p><p>Если вы используете TypeScript, то значение этой опции должно быть таким: <code>[&quot;js&quot;, &quot;jsx&quot;, &quot;json&quot;, &quot;ts&quot;, &quot;tsx&quot;]</code></p><h3><a class="anchor" name="moduledirectories-array-string"></a><code>moduleDirectories</code> [array&lt;string&gt;] <a class="hash-link" href="#moduledirectories-array-string">#</a></h3><p>Значение по умолчанию: <code>[&quot;node_modules&quot;]</code></p><p>Массив имен каталогов для рекурсивного поиска местоположения импортируемых модулей. Установка этого параметра будет <em>переопределять</em> значение по умолчанию. Если вы по-прежнему хотите искать модули в других каталогах наряду с каталогом <code>node_modules</code>, то значение должно быть таким: <code>[&quot;node_modules&quot;, &quot;bower_components&quot;]</code></p><h3><a class="anchor" name="modulenamemapper-object-string-string"></a><code>moduleNameMapper</code> [object&lt;string, string&gt;] <a class="hash-link" href="#modulenamemapper-object-string-string">#</a></h3><p>Значение по умолчанию: <code>null</code></p><p>A map from regular expressions to module names that allow to stub out resources, like images or styles with a single module.</p><p>Modules that are mapped to an alias are unmocked by default, regardless of whether automocking is enabled or not.</p><p>Use <code>&lt;rootDir&gt;</code> string token to refer to <a href="#rootdir-string" target=""><code>rootDir</code></a> value if you want to use file paths.</p><p>Additionally, you can substitute captured regex groups using numbered backreferences.</p><p>Пример:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;moduleNameMapper&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;^image![a-zA-Z0-9$_-]+$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;GlobalImageStub&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;^[./a-zA-Z0-9$_-]+\.png$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/RelativeImageStub.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;module_name_(.*)&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/substituted_module_$1.js&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><p><em>Note: If you provide module name without boundaries <code>^$</code> it may cause hard to spot errors. E.g. <code>relay</code> will replace all modules which contain <code>relay</code> as a substring in its name: <code>relay</code>, <code>react-relay</code> and <code>graphql-relay</code> will all be pointed to your stub.</em></p><h3><a class="anchor" name="modulepathignorepatterns-array-string"></a><code>modulePathIgnorePatterns</code> [array&lt;string&gt;] <a class="hash-link" href="#modulepathignorepatterns-array-string">#</a></h3><p>Значение по умолчанию: <code>[]</code></p><p>An array of regexp pattern strings that are matched against all module paths before those paths are to be considered &#x27;visible&#x27; to the module loader. If a given module&#x27;s path matches any of the patterns, it will not be <code>require()</code>-able in the test environment.</p><p>Эти строки шаблонов проверяют на соответствие полный путь. Используйте маркер <code>&lt;rootDir&gt;</code> в путях к корневой директории вашего проекта для предотвращения случайного игнорирования всех ваших файлов в различных окружениях, которые могут иметь другую корневую директорию. Example: <code>[&quot;&lt;rootDir&gt;/build/&quot;]</code>.</p><h3><a class="anchor" name="modulepaths-array-string"></a><code>modulePaths</code> [array&lt;string&gt;] <a class="hash-link" href="#modulepaths-array-string">#</a></h3><p>Значение по умолчанию: <code>[]</code></p><p>An alternative API to setting the <code>NODE_PATH</code> env variable, <code>modulePaths</code> is an array of absolute paths to additional locations to search when resolving modules. Use the <code>&lt;rootDir&gt;</code> string token to include the path to your project&#x27;s root directory. Example: <code>[&quot;&lt;rootDir&gt;/app/&quot;]</code>.</p><h3><a class="anchor" name="notify-boolean"></a><code>notify</code> [boolean] <a class="hash-link" href="#notify-boolean">#</a></h3><p>Значение по умолчанию: <code>false</code></p><p>Активирует уведомления для результатов теста.</p><h3><a class="anchor" name="preset-string"></a><code>preset</code> [string] <a class="hash-link" href="#preset-string">#</a></h3><p>Значение по умолчанию: <code>undefined</code></p><p>A preset that is used as a base for Jest&#x27;s configuration. A preset should point to an npm module that exports a <code>jest-preset.json</code> module on its top level.</p><h3><a class="anchor" name="projects-array-string"></a><code>projects</code> [array&lt;string&gt;] <a class="hash-link" href="#projects-array-string">#</a></h3><p>Значение по умолчанию: <code>undefined</code></p><p>When the <code>projects</code> configuration is provided with an array of paths or glob patterns, Jest will run tests in all of the specified projects at the same time. This is great for monorepos or when working on multiple projects at the same time.</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;projects&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;&lt;rootDir&gt;&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;&lt;rootDir&gt;/examples/*&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></pre><p>This example configuration will run Jest in the root directory as well as in every folder in the examples directory. You can have an unlimited amount of projects running in the same Jest instance.</p><h3><a class="anchor" name="clearmocks-boolean"></a><code>clearMocks</code> [boolean] <a class="hash-link" href="#clearmocks-boolean">#</a></h3><p>Значение по умолчанию: <code>false</code></p><p>Automatically clear mock calls and instances between every test. Equivalent to calling <code>jest.clearAllMocks()</code> between each test. This does not remove any mock implementation that may have been provided.</p><h3><a class="anchor" name="reporters-array-modulename-modulename-options"></a><code>reporters</code> [array&lt;modulename | [modulename, options]&gt;] <a class="hash-link" href="#reporters-array-modulename-modulename-options">#</a></h3><p>Значение по умолчанию: <code>undefined</code></p><h5><a class="anchor" name="jest-2000"></a>доступно в версиях Jest <strong>20.0.0+</strong> <a class="hash-link" href="#jest-2000">#</a></h5><p>Use this configuration option to add custom reporters to Jest. A custom reporter is a class that implements <code>onRunStart</code>, <code>onTestStart</code>, <code>onTestResult</code>, <code>onRunComplete</code> methods that will be called when any of those events occurs.</p><p>If custom reporters are specified, the default Jest reporters will be overridden. To keep default reporters, <code>default</code> can be passed as a module name.</p><p>This will override default reporters:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;reporters&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;&lt;rootDir&gt;/my-custom-reporter.js&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></pre><p>This will use custom reporter in addition to default reporters that Jest provides:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;reporters&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;&lt;rootDir&gt;/my-custom-reporter.js&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></pre><p>Additionally, custom reporters can be configured by passing an <code>options</code> object as a second argument:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;reporters&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">&quot;&lt;rootDir&gt;/my-custom-reporter.js&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&quot;banana&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;yes&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pineapple&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;no&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></pre><p>Custom reporter modules must define a class that takes a <code>GlobalConfig</code> and reporter options as constructor arguments:</p><p>Example reporter:</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// my-custom-reporter.js</span>
<span class="token keyword">class</span> <span class="token class-name">MyCustomReporter</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>globalConfig<span class="token punctuation">,</span> options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_globalConfig <span class="token operator">=</span> globalConfig<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_options <span class="token operator">=</span> options<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">onRunComplete</span><span class="token punctuation">(</span>contexts<span class="token punctuation">,</span> results<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;Custom reporter output:&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;GlobalConfig: &#x27;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_globalConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;Options: &#x27;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_options<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> MyCustomReporter<span class="token punctuation">;</span></pre><p>Custom reporters can also force Jest to exit with non-0 code by returning an Error from <code>getLastError()</code> methods</p><pre class="prism language-javascript">
<span class="token keyword">class</span> <span class="token class-name">MyCustomReporter</span> <span class="token punctuation">{</span>
  <span spellcheck="true" class="token comment">// ...</span>
  <span class="token function">getLastError</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_shouldFail<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;my-custom-reporter.js reported an error&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><p>For the full list of methods and argument types see <code>Reporter</code> type in <a href="https://github.com/facebook/jest/blob/master/types/TestRunner.js" target="_blank">types/TestRunner.js</a></p><h3><a class="anchor" name="resetmocks-boolean"></a><code>resetMocks</code> [boolean] <a class="hash-link" href="#resetmocks-boolean">#</a></h3><p>Значение по умолчанию: <code>false</code></p><p>Automatically reset mock state between every test. Equivalent to calling <code>jest.resetAllMocks()</code> between each test. This will lead to any mocks having their fake implementations removed but does not restore their initial implementation.</p><h3><a class="anchor" name="resetmodules-boolean"></a><code>resetModules</code> [boolean] <a class="hash-link" href="#resetmodules-boolean">#</a></h3><p>Значение по умолчанию: <code>false</code></p><p>If enabled, the module registry for every test file will be reset before running each individual test. This is useful to isolate modules for every test so that local module state doesn&#x27;t conflict between tests. This can be done programmatically using <a href="#jest-resetmodules" target=""><code>jest.resetModules()</code></a>.</p><h3><a class="anchor" name="resolver-string"></a><code>resolver</code> [string] <a class="hash-link" href="#resolver-string">#</a></h3><p>Значение по умолчанию: <code>undefined</code></p><h5><a class="anchor" name="jest-2000"></a>доступно в версиях Jest <strong>20.0.0+</strong> <a class="hash-link" href="#jest-2000">#</a></h5><p>This option allows the use of a custom resolver. This resolver must be a node module that exports a function expecting a string as the first argument for the path to resolve and an object with the following structure as the second argument:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;basedir&quot;</span><span class="token punctuation">:</span> string<span class="token punctuation">,</span>
  <span class="token string">&quot;browser&quot;</span><span class="token punctuation">:</span> bool<span class="token punctuation">,</span>
  <span class="token string">&quot;extensions&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>string<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;moduleDirectory&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>string<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;paths&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>string<span class="token punctuation">]</span>
<span class="token punctuation">}</span></pre><p>The function should either return a path to the module that should be resolved or throw an error if the module can&#x27;t be found.</p><h3><a class="anchor" name="rootdir-string"></a><code>rootDir</code> [string] <a class="hash-link" href="#rootdir-string">#</a></h3><p>Default: The root of the directory containing the <code>package.json</code> <em>or</em> the <a href="http://en.wikipedia.org/wiki/Pwd" target="_blank"><code>pwd</code></a> if no <code>package.json</code> is found</p><p>The root directory that Jest should scan for tests and modules within. If you put your Jest config inside your <code>package.json</code> and want the root directory to be the root of your repo, the value for this config param will default to the directory of the <code>package.json</code>.</p><p>Oftentimes, you&#x27;ll want to set this to <code>&#x27;src&#x27;</code> or <code>&#x27;lib&#x27;</code>, corresponding to where in your repository the code is stored.</p><p><em>Note that using <code>&#x27;&lt;rootDir&gt;&#x27;</code> as a string token in any other path-based config settings will refer back to this value. So, for example, if you want your <a href="#setupfiles-array" target=""><code>setupFiles</code></a> config entry to point at the <code>env-setup.js</code> file at the root of your project, you could set its value to <code>[&quot;&lt;rootDir&gt;/env-setup.js&quot;]</code>.</em></p><h3><a class="anchor" name="roots-array-string"></a><code>roots</code> [array&lt;string&gt;] <a class="hash-link" href="#roots-array-string">#</a></h3><p>Default: <code>[&quot;&lt;rootDir&gt;&quot;]</code></p><p>A list of paths to directories that Jest should use to search for files in.</p><p>There are times where you only want Jest to search in a single sub-directory (such as cases where you have a <code>src/</code> directory in your repo), but prevent it from accessing the rest of the repo.</p><p><em>Note: While <code>rootDir</code> is mostly used as a token to be re-used in other configuration options, <code>roots</code> is used by the internals of Jest to locate <strong>test files and source files</strong>. By default, <code>roots</code> has a single entry <code>&lt;rootDir&gt;</code> but there are cases where you want to have multiple roots within one project, for example <code>roots: [&quot;&lt;rootDir&gt;/src/&quot;, &quot;&lt;rootDir&gt;/tests/&quot;]</code>.</em></p><h3><a class="anchor" name="setupfiles-array"></a><code>setupFiles</code> [array] <a class="hash-link" href="#setupfiles-array">#</a></h3><p>Значение по умолчанию: <code>[]</code></p><p>The paths to modules that run some code to configure or set up the testing environment before each test. Since every test runs in its own environment, these scripts will be executed in the testing environment immediately before executing the test code itself.</p><p>It&#x27;s worth noting that this code will execute <em>before</em> <a href="#setuptestframeworkscriptfile-string" target=""><code>setupTestFrameworkScriptFile</code></a>.</p><h3><a class="anchor" name="setuptestframeworkscriptfile-string"></a><code>setupTestFrameworkScriptFile</code> [string] <a class="hash-link" href="#setuptestframeworkscriptfile-string">#</a></h3><p>Значение по умолчанию: <code>undefined</code></p><p>Путь к модулю, который исполняет некоторый код для конфигурирования или установки платформы тестирования перед каждым тестом. Since <a href="#setupfiles-array" target=""><code>setupFiles</code></a> executes before the test framework is installed in the environment, this script file presents you the opportunity of running some code immediately after the test framework has been installed in the environment.</p><p>For example, Jest ships with several plug-ins to <code>jasmine</code> that work by monkey-patching the jasmine API. If you wanted to add even more jasmine plugins to the mix (or if you wanted some custom, project-wide matchers for example), you could do so in this module.</p><h3><a class="anchor" name="snapshotserializers-array-string"></a><code>snapshotSerializers</code> [array&lt;string&gt;] <a class="hash-link" href="#snapshotserializers-array-string">#</a></h3><p>Значение по умолчанию: <code>[]</code></p><p>A list of paths to snapshot serializer modules Jest should use for snapshot testing.</p><p>Jest has default serializers for built-in JavaScript types, HTML elements (Jest 20.0.0+), ImmutableJS (Jest 20.0.0+) and for React elements. See <a href="/jest/docs/tutorial-react-native.html#snapshot-test" target="">snapshot test tutorial</a> for more information.</p><p>Example serializer module:</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// my-serializer-module</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">print</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> serialize<span class="token punctuation">,</span> indent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#x27;Pretty foo: &#x27;</span> <span class="token operator">+</span> <span class="token function">serialize</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">test</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> val <span class="token operator">&amp;&amp;</span> val<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#x27;foo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span></pre><p><code>serialize</code> is a function that serializes a value using existing plugins.</p><p>To use <code>my-serializer-module</code> as a serializer, configuration would be as follows:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token string">&quot;jest&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;snapshotSerializers&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;my-serializer-module&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><p>Finally tests would look as follows:</p><pre class="prism language-javascript">
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token punctuation">{</span>
    foo<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      x<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      y<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Rendered snapshot:</p><pre class="prism language-javascript">
Pretty foo<span class="token punctuation">:</span> Object <span class="token punctuation">{</span>
  <span class="token string">&quot;x&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string">&quot;y&quot;</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></pre><p>To make a dependency explicit instead of implicit, you can call <a href="/jest/docs/expect.html#expectaddsnapshotserializerserializer" target=""><code>expect.addSnapshotSerializer</code></a> to add a module for an individual test file instead of adding its path to <code>snapshotSerializers</code> in Jest configuration.</p><h3><a class="anchor" name="testenvironment-string"></a><code>testEnvironment</code> [string] <a class="hash-link" href="#testenvironment-string">#</a></h3><p>Значение по умолчанию: <code>&quot;jsdom&quot;</code></p><p>The test environment that will be used for testing. The default environment in Jest is a browser-like environment through <a href="https://github.com/tmpvar/jsdom" target="_blank">jsdom</a>. If you are building a node service, you can use the <code>node</code> option to use a node-like environment instead.</p><p>If some tests require another environment, you can add a <code>@jest-environment</code> docblock.</p><h5><a class="anchor" name="jest-2000"></a>доступно в версиях Jest <strong>20.0.0+</strong> <a class="hash-link" href="#jest-2000">#</a></h5><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">/**
 * @jest-environment jsdom
 */</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;use jsdom in this test file&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#x27;div&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBeNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>You can create your own module that will be used for setting up the test environment. The module must export a class with <code>runScript</code> and <code>dispose</code> methods. See the <a href="https://github.com/facebook/jest/blob/master/packages/jest-environment-node/src/index.js" target="_blank">node</a> or <a href="https://github.com/facebook/jest/blob/master/packages/jest-environment-jsdom/src/index.js" target="_blank">jsdom</a> environments as examples.</p><h3><a class="anchor" name="testmatch-array-string"></a><code>testMatch</code> [array&lt;string&gt;] <a class="hash-link" href="#testmatch-array-string">#</a></h3><h5><a class="anchor" name="jest-1900"></a>доступно в версиях Jest <strong>19.0.0+</strong> <a class="hash-link" href="#jest-1900">#</a></h5><p>(default: <code>[ &#x27;**/__tests__/**/*.js?(x)&#x27;, &#x27;**/?(*.)(spec|test).js?(x)&#x27; ]</code>)</p><p>The glob patterns Jest uses to detect test files. By default it looks for <code>.js</code> and <code>.jsx</code> files inside of <code>__tests__</code> folders, as well as any files with a suffix of <code>.test</code> or <code>.spec</code> (e.g. <code>Component.test.js</code> or <code>Component.spec.js</code>). It will also find files called <code>test.js</code> or <code>spec.js</code>.</p><p>See the <a href="https://github.com/jonschlinkert/micromatch" target="_blank">micromatch</a> package for details of the patterns you can specify.</p><p>See also <a href="#testregex-string" target=""><code>testRegex</code> [string]</a>, but note that you cannot specify both options.</p><h3><a class="anchor" name="testpathignorepatterns-array-string"></a><code>testPathIgnorePatterns</code> [array&lt;string&gt;] <a class="hash-link" href="#testpathignorepatterns-array-string">#</a></h3><p>Значение по умолчанию: <code>[&quot;/node_modules/&quot;]</code></p><p>An array of regexp pattern strings that are matched against all test paths before executing the test. If the test path matches any of the patterns, it will be skipped.</p><p>Эти строки шаблонов проверяют на соответствие полный путь. Используйте маркер <code>&lt;rootDir&gt;</code> в путях к корневой директории вашего проекта для предотвращения случайного игнорирования всех ваших файлов в различных окружениях, которые могут иметь другую корневую директорию. Пример: <code>[«&lt;rootDir&gt;/build/», «&lt;rootDir&gt;/node_modules/»]</code>.</p><h3><a class="anchor" name="testregex-string"></a><code>testRegex</code> [string] <a class="hash-link" href="#testregex-string">#</a></h3><p>Default: <code>(/__tests__/.*|(\\.|/)(test|spec))\\.jsx?$</code></p><p>The pattern Jest uses to detect test files. By default it looks for <code>.js</code> and <code>.jsx</code> files inside of <code>__tests__</code> folders, as well as any files with a suffix of <code>.test</code> or <code>.spec</code> (e.g. <code>Component.test.js</code> or <code>Component.spec.js</code>). It will also find files called <code>test.js</code> or <code>spec.js</code>. See also <a href="#testmatch-array-string" target=""><code>testMatch</code> [array&lt;string&gt;]</a>, but note that you cannot specify both options.</p><p>The following is a visualization of the default regex:</p><pre class="prism language-javascript">
├── __tests__
│   └── component<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>js # test
│   └── anything # test
├── <span class="token keyword">package</span><span class="token punctuation">.</span>json # not test
├── foo<span class="token punctuation">.</span>test<span class="token punctuation">.</span>js # test
├── bar<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>jsx # test
└── component<span class="token punctuation">.</span>js # not test</pre><h3><a class="anchor" name="testresultsprocessor-string"></a><code>testResultsProcessor</code> [string] <a class="hash-link" href="#testresultsprocessor-string">#</a></h3><p>Значение по умолчанию: <code>undefined</code></p><p>This option allows the use of a custom results processor. This processor must be a node module that exports a function expecting an object with the following structure as the first argument:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;success&quot;</span><span class="token punctuation">:</span> bool<span class="token punctuation">,</span>
  <span class="token string">&quot;startTime&quot;</span><span class="token punctuation">:</span> epoch<span class="token punctuation">,</span>
  <span class="token string">&quot;numTotalTestSuites&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  <span class="token string">&quot;numPassedTestSuites&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  <span class="token string">&quot;numFailedTestSuites&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  <span class="token string">&quot;numRuntimeErrorTestSuites&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  <span class="token string">&quot;numTotalTests&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  <span class="token string">&quot;numPassedTests&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  <span class="token string">&quot;numFailedTests&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  <span class="token string">&quot;numPendingTests&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  <span class="token string">&quot;testResults&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token string">&quot;numFailingTests&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
    <span class="token string">&quot;numPassingTests&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
    <span class="token string">&quot;numPendingTests&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
    <span class="token string">&quot;testResults&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      <span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span> string <span class="token punctuation">(</span>message <span class="token keyword">in</span> it block<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">&quot;status&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;failed&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;pending&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;passed&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;ancestorTitles&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>string <span class="token punctuation">(</span>message <span class="token keyword">in</span> describe blocks<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">&quot;failureMessages&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>string<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">&quot;numPassingAsserts&quot;</span><span class="token punctuation">:</span> number
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;perfStats&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;start&quot;</span><span class="token punctuation">:</span> epoch<span class="token punctuation">,</span>
      <span class="token string">&quot;end&quot;</span><span class="token punctuation">:</span> epoch
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;testFilePath&quot;</span><span class="token punctuation">:</span> absolute path to test file<span class="token punctuation">,</span>
    <span class="token string">&quot;coverage&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></pre><h3><a class="anchor" name="testrunner-string"></a><code>testRunner</code> [string] <a class="hash-link" href="#testrunner-string">#</a></h3><p>Default: <code>jasmine2</code></p><p>This option allows use of a custom test runner. The default is jasmine2. A custom test runner can be provided by specifying a path to a test runner implementation.</p><p>The test runner module must export a function with the following signature:</p><pre class="prism language-javascript">
<span class="token keyword">function</span> <span class="token function">testRunner</span><span class="token punctuation">(</span>
  config<span class="token punctuation">:</span> Config<span class="token punctuation">,</span>
  environment<span class="token punctuation">:</span> Environment<span class="token punctuation">,</span>
  runtime<span class="token punctuation">:</span> Runtime<span class="token punctuation">,</span>
  testPath<span class="token punctuation">:</span> string<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span>TestResult<span class="token operator">&gt;</span></pre><p>An example of such function can be found in our default <a href="https://github.com/facebook/jest/blob/master/packages/jest-jasmine2/src/index.js" target="_blank">jasmine2 test runner package</a>.</p><h3><a class="anchor" name="testurl-string"></a><code>testURL</code> [string] <a class="hash-link" href="#testurl-string">#</a></h3><p>Default: <code>about:blank</code></p><p>This option sets the URL for the jsdom environment. It is reflected in properties such as <code>location.href</code>.</p><h3><a class="anchor" name="timers-string"></a><code>timers</code> [string] <a class="hash-link" href="#timers-string">#</a></h3><p>Значение по умолчанию: <code>real</code></p><p>Setting this value to <code>fake</code> allows the use of fake timers for functions such as <code>setTimeout</code>. Fake timers are useful when a piece of code sets a long timeout that we don&#x27;t want to wait for in a test.</p><h3><a class="anchor" name="transform-object-string-string"></a><code>transform</code> [object&lt;string, string&gt;] <a class="hash-link" href="#transform-object-string-string">#</a></h3><p>Значение по умолчанию: <code>undefined</code></p><p>A map from regular expressions to paths to transformers. A transformer is a module that provides a synchronous function for transforming source files. For example, if you wanted to be able to use a new language feature in your modules or tests that isn&#x27;t yet supported by node, you might plug in one of many compilers that compile a future version of JavaScript to a current one. Example: see the <a href="https://github.com/facebook/jest/blob/master/examples/typescript/package.json#L16" target="_blank">examples/typescript</a> example or the <a href="/jest/docs/tutorial-webpack.html" target="">webpack tutorial</a>.</p><p>Examples of such compilers include <a href="https://babeljs.io/" target="_blank">babel</a>, <a href="http://www.typescriptlang.org/" target="_blank">typescript</a>, and <a href="http://github.com/leebyron/async-to-gen#jest" target="_blank">async-to-gen</a>.</p><p><em>Note: a transformer is only ran once per file unless the file has changed. During development of a transformer it can be useful to run Jest with <code>--no-cache</code> or to frequently <a href="/jest/docs/troubleshooting.html#caching-issues" target="">delete Jest&#x27;s cache</a>.</em></p><p><em>Note: if you are using the <code>babel-jest</code> transformer and want to use an additional code preprocessor, keep in mind that when &quot;transform&quot; is overwritten in any way the <code>babel-jest</code> is not loaded automatically anymore. If you want to use it to compile JavaScript code it has to be explicitly defined. See <a href="https://github.com/facebook/jest/tree/master/packages/babel-jest#setup" target="_blank">babel-jest plugin</a></em></p><h3><a class="anchor" name="transformignorepatterns-array-string"></a><code>transformIgnorePatterns</code> [array&lt;string&gt;] <a class="hash-link" href="#transformignorepatterns-array-string">#</a></h3><p>Значение по умолчанию: <code>[&quot;/node_modules/&quot;]</code></p><p>An array of regexp pattern strings that are matched against all source file paths before transformation. If the test path matches any of the patterns, it will not be transformed.</p><p>Эти строки шаблонов проверяют на соответствие полный путь. Используйте маркер <code>&lt;rootDir&gt;</code> в путях к корневой директории вашего проекта для предотвращения случайного игнорирования всех ваших файлов в различных окружениях, которые могут иметь другую корневую директорию. Example: <code>[&quot;&lt;rootDir&gt;/bower_components/&quot;, &quot;&lt;rootDir&gt;/node_modules/&quot;]</code>.</p><h3><a class="anchor" name="unmockedmodulepathpatterns-array-string"></a><code>unmockedModulePathPatterns</code> [array&lt;string&gt;] <a class="hash-link" href="#unmockedmodulepathpatterns-array-string">#</a></h3><p>Значение по умолчанию: <code>[]</code></p><p>An array of regexp pattern strings that are matched against all modules before the module loader will automatically return a mock for them. If a module&#x27;s path matches any of the patterns in this list, it will not be automatically mocked by the module loader.</p><p>This is useful for some commonly used &#x27;utility&#x27; modules that are almost always used as implementation details almost all the time (like underscore/lo-dash, etc). It&#x27;s generally a best practice to keep this list as small as possible and always use explicit <code>jest.mock()</code>/<code>jest.unmock()</code> calls in individual tests. Explicit per-test setup is far easier for other readers of the test to reason about the environment the test will run in.</p><p>It is possible to override this setting in individual tests by explicitly calling <code>jest.mock()</code> at the top of the test file.</p><h3><a class="anchor" name="verbose-boolean"></a><code>verbose</code> [boolean] <a class="hash-link" href="#verbose-boolean">#</a></h3><p>Значение по умолчанию: <code>false</code></p><p>Указывает, следует ли, во время выполнения делать отчет для каждого теста. Все ошибки будут также показаны в конце после выполнения.</p><h3><a class="anchor" name="watchpathignorepatterns-array-string"></a><code>watchPathIgnorePatterns</code> [array&lt;string&gt;] <a class="hash-link" href="#watchpathignorepatterns-array-string">#</a></h3><p>Значение по умолчанию: <code>[]</code></p><p>An array of RegExp patterns that are matched against all source file paths before re-running tests in watch mode. If the file path matches any of the patterns, when it is updated, it will not trigger a re-run of tests.</p><p>These patterns match against the full path. Use the <code>&lt;rootDir&gt;</code> string token to include the path to your project&#x27;s root directory to prevent it from accidentally ignoring all of your files in different environments that may have different root directories. Example: <code>[&quot;&lt;rootDir&gt;/node_modules/&quot;]</code>.</p></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="jest-object.html#content">← Предыдущая</a><a class="docs-next button" href="cli.html#content">Продолжить чтение →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/jest" class="nav-home"><img src="/jest/img/jest-outline.svg" alt="Jest" width="66" height="58"></a><div><h5>Docs</h5><a href="/jest/docs/ru/getting-started.html">Getting Started</a><a href="/jest/docs/ru/snapshot-testing.html">Guides</a><a href="/jest/docs/ru/api.html">API Reference</a></div><div><h5>Community</h5><a href="/jest/ru/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/jestjs" target="_blank">Stack Overflow</a><a href="https://discordapp.com/channels/102860784329052160/103622435865104384">Jest Chat</a><a href="https://twitter.com/fbjest" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/jest/blog">Blog</a><a href="https://github.com/facebook/jest">GitHub</a><a class="github-button" href="https://github.com/facebook/jest" data-icon="octicon-star" data-count-href="/facebook/jest/stargazers" data-count-api="/repos/facebook/jest#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star facebook/jest on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/jest/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"></a><section class="copyright">Copyright © 2017 Facebook Inc.</section></footer></div><div id="fb-root"></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-44373548-17', 'auto');
            ga('send', 'pageview');

            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)
            ){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");

            docsearch({
              apiKey: '833906d7486e4059359fa58823c4ef56',
              indexName: 'jest',
              inputSelector: '#search_input_react'
            });
          </script><script async defer src="https://buttons.github.io/buttons.js"></script></body></html>